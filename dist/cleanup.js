var ke=Object.create;var L=Object.defineProperty,Ne=Object.defineProperties,Ie=Object.getOwnPropertyDescriptor,Me=Object.getOwnPropertyDescriptors,Be=Object.getOwnPropertyNames,Y=Object.getOwnPropertySymbols,je=Object.getPrototypeOf,W=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var Q=(e,t,r)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,X=(e,t)=>{for(var r in t||(t={}))W.call(t,r)&&Q(e,r,t[r]);if(Y)for(var r of Y(t))Le.call(t,r)&&Q(e,r,t[r]);return e},Z=(e,t)=>Ne(e,Me(t));var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var $e=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of Be(t))!W.call(e,s)&&s!==r&&L(e,s,{get:()=>t[s],enumerable:!(n=Ie(t,s))||n.enumerable});return e};var Ge=(e,t,r)=>(r=e!=null?ke(je(e)):{},$e(t||!e||!e.__esModule?L(r,"default",{value:e,enumerable:!0}):r,e));var k=y(b=>{"use strict";Object.defineProperty(b,"__esModule",{value:!0});b.toCommandProperties=b.toCommandValue=void 0;function Fe(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}b.toCommandValue=Fe;function Je(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}b.toCommandProperties=Je});var ne=y(g=>{"use strict";var Ve=g&&g.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ze=g&&g.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ke=g&&g.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ve(t,e,r);return ze(t,e),t};Object.defineProperty(g,"__esModule",{value:!0});g.issue=g.issueCommand=void 0;var Ye=Ke(require("os")),ee=k();function te(e,t,r){let n=new re(e,t,r);process.stdout.write(n.toString()+Ye.EOL)}g.issueCommand=te;function Qe(e,t=""){te(e,{},t)}g.issue=Qe;var H="::",re=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=H+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let s=this.properties[n];s&&(r?r=!1:t+=",",t+=`${n}=${Xe(s)}`)}}return t+=`${H}${We(this.message)}`,t}};function We(e){return ee.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function Xe(e){return ee.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var ie=y(w=>{"use strict";var Ze=w&&w.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),He=w&&w.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),oe=w&&w.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ze(t,e,r);return He(t,e),t};Object.defineProperty(w,"__esModule",{value:!0});w.issueCommand=void 0;var se=oe(require("fs")),et=oe(require("os")),tt=k();function rt(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!se.existsSync(r))throw new Error(`Missing file at path: ${r}`);se.appendFileSync(r,`${tt.toCommandValue(t)}${et.EOL}`,{encoding:"utf8"})}w.issueCommand=rt});var ue=y(N=>{"use strict";Object.defineProperty(N,"__esModule",{value:!0});function nt(e){let t=e.protocol==="https:",r;if(ae(e))return r;let n;return t?n=process.env.https_proxy||process.env.HTTPS_PROXY:n=process.env.http_proxy||process.env.HTTP_PROXY,n&&(r=new URL(n)),r}N.getProxyUrl=nt;function ae(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let s of t.split(",").map(o=>o.trim().toUpperCase()).filter(o=>o))if(n.some(o=>o===s))return!0;return!1}N.checkBypass=ae});var pe=y(q=>{"use strict";var zt=require("net"),st=require("tls"),$=require("http"),le=require("https"),ot=require("events"),Kt=require("assert"),it=require("util");q.httpOverHttp=at;q.httpsOverHttp=ut;q.httpOverHttps=lt;q.httpsOverHttps=ct;function at(e){var t=new R(e);return t.request=$.request,t}function ut(e){var t=new R(e);return t.request=$.request,t.createSocket=ce,t.defaultPort=443,t}function lt(e){var t=new R(e);return t.request=le.request,t}function ct(e){var t=new R(e);return t.request=le.request,t.createSocket=ce,t.defaultPort=443,t}function R(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||$.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,s,o,i){for(var u=fe(s,o,i),c=0,l=t.requests.length;c<l;++c){var f=t.requests[c];if(f.host===u.host&&f.port===u.port){t.requests.splice(c,1),f.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}it.inherits(R,ot.EventEmitter);R.prototype.addRequest=function(t,r,n,s){var o=this,i=G({request:t},o.options,fe(r,n,s));if(o.sockets.length>=this.maxSockets){o.requests.push(i);return}o.createSocket(i,function(u){u.on("free",c),u.on("close",l),u.on("agentRemove",l),t.onSocket(u);function c(){o.emit("free",u,i)}function l(f){o.removeSocket(u),u.removeListener("free",c),u.removeListener("close",l),u.removeListener("agentRemove",l)}})};R.prototype.createSocket=function(t,r){var n=this,s={};n.sockets.push(s);var o=G({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(o.localAddress=t.localAddress),o.proxyAuth&&(o.headers=o.headers||{},o.headers["Proxy-Authorization"]="Basic "+new Buffer(o.proxyAuth).toString("base64")),O("making CONNECT request");var i=n.request(o);i.useChunkedEncodingByDefault=!1,i.once("response",u),i.once("upgrade",c),i.once("connect",l),i.once("error",f),i.end();function u(p){p.upgrade=!0}function c(p,h,A){process.nextTick(function(){l(p,h,A)})}function l(p,h,A){if(i.removeAllListeners(),h.removeAllListeners(),p.statusCode!==200){O("tunneling socket could not be established, statusCode=%d",p.statusCode),h.destroy();var C=new Error("tunneling socket could not be established, statusCode="+p.statusCode);C.code="ECONNRESET",t.request.emit("error",C),n.removeSocket(s);return}if(A.length>0){O("got illegal response body from proxy"),h.destroy();var C=new Error("got illegal response body from proxy");C.code="ECONNRESET",t.request.emit("error",C),n.removeSocket(s);return}return O("tunneling connection has established"),n.sockets[n.sockets.indexOf(s)]=h,r(h)}function f(p){i.removeAllListeners(),O(`tunneling socket could not be established, cause=%s
`,p.message,p.stack);var h=new Error("tunneling socket could not be established, cause="+p.message);h.code="ECONNRESET",t.request.emit("error",h),n.removeSocket(s)}};R.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(s){n.request.onSocket(s)})}};function ce(e,t){var r=this;R.prototype.createSocket.call(r,e,function(n){var s=e.request.getHeader("host"),o=G({},r.options,{socket:n,servername:s?s.replace(/:.*$/,""):e.host}),i=st.connect(0,o);r.sockets[r.sockets.indexOf(n)]=i,t(i)})}function fe(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function G(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var s=Object.keys(n),o=0,i=s.length;o<i;++o){var u=s[o];n[u]!==void 0&&(e[u]=n[u])}}return e}var O;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?O=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:O=function(){};q.debug=O});var de=y((Qt,he)=>{he.exports=pe()});var ge=y(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});var I=require("http"),F=require("https"),me=ue(),P,v;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(v=m.HttpCodes||(m.HttpCodes={}));var d;(function(e){e.Accept="accept",e.ContentType="content-type"})(d=m.Headers||(m.Headers={}));var E;(function(e){e.ApplicationJson="application/json"})(E=m.MediaTypes||(m.MediaTypes={}));function ft(e){let t=me.getProxyUrl(new URL(e));return t?t.href:""}m.getProxyUrl=ft;var pt=[v.MovedPermanently,v.ResourceMoved,v.SeeOther,v.TemporaryRedirect,v.PermanentRedirect],ht=[v.BadGateway,v.ServiceUnavailable,v.GatewayTimeout],dt=["OPTIONS","GET","DELETE","HEAD"],mt=10,gt=5,D=class extends Error{constructor(t,r){super(t);this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,D.prototype)}};m.HttpClientError=D;var J=class{constructor(t){this.message=t}readBody(){return new Promise(async(t,r)=>{let n=Buffer.alloc(0);this.message.on("data",s=>{n=Buffer.concat([n,s])}),this.message.on("end",()=>{t(n.toString())})})}};m.HttpClientResponse=J;function _t(e){return new URL(e).protocol==="https:"}m.isHttps=_t;var M=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return this.request("OPTIONS",t,null,r||{})}get(t,r){return this.request("GET",t,null,r||{})}del(t,r){return this.request("DELETE",t,null,r||{})}post(t,r,n){return this.request("POST",t,r,n||{})}patch(t,r,n){return this.request("PATCH",t,r,n||{})}put(t,r,n){return this.request("PUT",t,r,n||{})}head(t,r){return this.request("HEAD",t,null,r||{})}sendStream(t,r,n,s){return this.request(t,r,n,s)}async getJson(t,r={}){r[d.Accept]=this._getExistingOrDefaultHeader(r,d.Accept,E.ApplicationJson);let n=await this.get(t,r);return this._processResponse(n,this.requestOptions)}async postJson(t,r,n={}){let s=JSON.stringify(r,null,2);n[d.Accept]=this._getExistingOrDefaultHeader(n,d.Accept,E.ApplicationJson),n[d.ContentType]=this._getExistingOrDefaultHeader(n,d.ContentType,E.ApplicationJson);let o=await this.post(t,s,n);return this._processResponse(o,this.requestOptions)}async putJson(t,r,n={}){let s=JSON.stringify(r,null,2);n[d.Accept]=this._getExistingOrDefaultHeader(n,d.Accept,E.ApplicationJson),n[d.ContentType]=this._getExistingOrDefaultHeader(n,d.ContentType,E.ApplicationJson);let o=await this.put(t,s,n);return this._processResponse(o,this.requestOptions)}async patchJson(t,r,n={}){let s=JSON.stringify(r,null,2);n[d.Accept]=this._getExistingOrDefaultHeader(n,d.Accept,E.ApplicationJson),n[d.ContentType]=this._getExistingOrDefaultHeader(n,d.ContentType,E.ApplicationJson);let o=await this.patch(t,s,n);return this._processResponse(o,this.requestOptions)}async request(t,r,n,s){if(this._disposed)throw new Error("Client has already been disposed.");let o=new URL(r),i=this._prepareRequest(t,o,s),u=this._allowRetries&&dt.indexOf(t)!=-1?this._maxRetries+1:1,c=0,l;for(;c<u;){if(l=await this.requestRaw(i,n),l&&l.message&&l.message.statusCode===v.Unauthorized){let p;for(let h=0;h<this.handlers.length;h++)if(this.handlers[h].canHandleAuthentication(l)){p=this.handlers[h];break}return p?p.handleAuthentication(this,i,n):l}let f=this._maxRedirects;for(;pt.indexOf(l.message.statusCode)!=-1&&this._allowRedirects&&f>0;){let p=l.message.headers.location;if(!p)break;let h=new URL(p);if(o.protocol=="https:"&&o.protocol!=h.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(await l.readBody(),h.hostname!==o.hostname)for(let A in s)A.toLowerCase()==="authorization"&&delete s[A];i=this._prepareRequest(t,h,s),l=await this.requestRaw(i,n),f--}if(ht.indexOf(l.message.statusCode)==-1)return l;c+=1,c<u&&(await l.readBody(),await this._performExponentialBackoff(c))}return l}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return new Promise((n,s)=>{let o=function(i,u){i&&s(i),n(u)};this.requestRawWithCallback(t,r,o)})}requestRawWithCallback(t,r,n){let s;typeof r=="string"&&(t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let o=!1,i=(c,l)=>{o||(o=!0,n(c,l))},u=t.httpModule.request(t.options,c=>{let l=new J(c);i(null,l)});u.on("socket",c=>{s=c}),u.setTimeout(this._socketTimeout||3*6e4,()=>{s&&s.end(),i(new Error("Request timeout: "+t.options.path),null)}),u.on("error",function(c){i(c,null)}),r&&typeof r=="string"&&u.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){u.end()}),r.pipe(u)):u.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let s={};s.parsedUrl=r;let o=s.parsedUrl.protocol==="https:";s.httpModule=o?F:I;let i=o?443:80;return s.options={},s.options.host=s.parsedUrl.hostname,s.options.port=s.parsedUrl.port?parseInt(s.parsedUrl.port):i,s.options.path=(s.parsedUrl.pathname||"")+(s.parsedUrl.search||""),s.options.method=t,s.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(s.options.headers["user-agent"]=this.userAgent),s.options.agent=this._getAgent(s.parsedUrl),this.handlers&&this.handlers.forEach(u=>{u.prepareRequest(s.options)}),s}_mergeHeaders(t){let r=n=>Object.keys(n).reduce((s,o)=>(s[o.toLowerCase()]=n[o],s),{});return this.requestOptions&&this.requestOptions.headers?Object.assign({},r(this.requestOptions.headers),r(t)):r(t||{})}_getExistingOrDefaultHeader(t,r,n){let s=i=>Object.keys(i).reduce((u,c)=>(u[c.toLowerCase()]=i[c],u),{}),o;return this.requestOptions&&this.requestOptions.headers&&(o=s(this.requestOptions.headers)[r]),t[r]||o||n}_getAgent(t){let r,n=me.getProxyUrl(t),s=n&&n.hostname;if(this._keepAlive&&s&&(r=this._proxyAgent),this._keepAlive&&!s&&(r=this._agent),r)return r;let o=t.protocol==="https:",i=100;if(this.requestOptions&&(i=this.requestOptions.maxSockets||I.globalAgent.maxSockets),s){P||(P=de());let u={maxSockets:i,keepAlive:this._keepAlive,proxy:Z(X({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},c,l=n.protocol==="https:";o?c=l?P.httpsOverHttps:P.httpsOverHttp:c=l?P.httpOverHttps:P.httpOverHttp,r=c(u),this._proxyAgent=r}if(this._keepAlive&&!r){let u={keepAlive:this._keepAlive,maxSockets:i};r=o?new F.Agent(u):new I.Agent(u),this._agent=r}return r||(r=o?F.globalAgent:I.globalAgent),o&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){t=Math.min(mt,t);let r=gt*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))}static dateTimeDeserializer(t,r){if(typeof r=="string"){let n=new Date(r);if(!isNaN(n.valueOf()))return n}return r}async _processResponse(t,r){return new Promise(async(n,s)=>{let o=t.message.statusCode,i={statusCode:o,result:null,headers:{}};o==v.NotFound&&n(i);let u,c;try{c=await t.readBody(),c&&c.length>0&&(r&&r.deserializeDates?u=JSON.parse(c,M.dateTimeDeserializer):u=JSON.parse(c),i.result=u),i.headers=t.message.headers}catch{}if(o>299){let l;u&&u.message?l=u.message:c&&c.length>0?l=c:l="Failed request: ("+o+")";let f=new D(l,o);f.result=i.result,s(f)}else n(i)})}};m.HttpClient=M});var we=y(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});var _e=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){t.headers.Authorization="Basic "+Buffer.from(this.username+":"+this.password).toString("base64")}canHandleAuthentication(t){return!1}handleAuthentication(t,r,n){return null}};U.BasicCredentialHandler=_e;var ve=class{constructor(t){this.token=t}prepareRequest(t){t.headers.Authorization="Bearer "+this.token}canHandleAuthentication(t){return!1}handleAuthentication(t,r,n){return null}};U.BearerCredentialHandler=ve;var ye=class{constructor(t){this.token=t}prepareRequest(t){t.headers.Authorization="Basic "+Buffer.from("PAT:"+this.token).toString("base64")}canHandleAuthentication(t){return!1}handleAuthentication(t,r,n){return null}};U.PersonalAccessTokenCredentialHandler=ye});var Oe=y(x=>{"use strict";var Re=x&&x.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function u(f){try{l(n.next(f))}catch(p){i(p)}}function c(f){try{l(n.throw(f))}catch(p){i(p)}}function l(f){f.done?o(f.value):s(f.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(x,"__esModule",{value:!0});x.OidcClient=void 0;var vt=ge(),yt=we(),Se=V(),T=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new vt.HttpClient("actions/oidc-client",[new yt.BearerCredentialHandler(T.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return Re(this,void 0,void 0,function*(){let o=(r=(yield T.createHttpClient().getJson(t).catch(i=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${i.statusCode}
 
        Error Message: ${i.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!o)throw new Error("Response json body do not have ID Token field");return o})}static getIDToken(t){return Re(this,void 0,void 0,function*(){try{let r=T.getIDTokenUrl();if(t){let s=encodeURIComponent(t);r=`${r}&audience=${s}`}Se.debug(`ID token url is ${r}`);let n=yield T.getCall(r);return Se.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};x.OidcClient=T});var V=y(a=>{"use strict";var wt=a&&a.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Rt=a&&a.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Ee=a&&a.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&wt(t,e,r);return Rt(t,e),t},Te=a&&a.__awaiter||function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(i){i(o)})}return new(r||(r=Promise))(function(o,i){function u(f){try{l(n.next(f))}catch(p){i(p)}}function c(f){try{l(n.throw(f))}catch(p){i(p)}}function l(f){f.done?o(f.value):s(f.value).then(u,c)}l((n=n.apply(e,t||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0});a.getIDToken=a.getState=a.saveState=a.group=a.endGroup=a.startGroup=a.info=a.notice=a.warning=a.error=a.debug=a.isDebug=a.setFailed=a.setCommandEcho=a.setOutput=a.getBooleanInput=a.getMultilineInput=a.getInput=a.addPath=a.setSecret=a.exportVariable=a.ExitCode=void 0;var _=ne(),Ae=ie(),j=k(),B=Ee(require("os")),St=Ee(require("path")),Ot=Oe(),be;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(be=a.ExitCode||(a.ExitCode={}));function Et(e,t){let r=j.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||""){let s="_GitHubActionsFileCommandDelimeter_",o=`${e}<<${s}${B.EOL}${r}${B.EOL}${s}`;Ae.issueCommand("ENV",o)}else _.issueCommand("set-env",{name:e},r)}a.exportVariable=Et;function Tt(e){_.issueCommand("add-mask",{},e)}a.setSecret=Tt;function At(e){process.env.GITHUB_PATH||""?Ae.issueCommand("PATH",e):_.issueCommand("add-path",{},e),process.env.PATH=`${e}${St.delimiter}${process.env.PATH}`}a.addPath=At;function z(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}a.getInput=z;function bt(e,t){return z(e,t).split(`
`).filter(n=>n!=="")}a.getMultilineInput=bt;function qt(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],s=z(e,t);if(r.includes(s))return!0;if(n.includes(s))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}a.getBooleanInput=qt;function Pt(e,t){process.stdout.write(B.EOL),_.issueCommand("set-output",{name:e},t)}a.setOutput=Pt;function xt(e){_.issue("echo",e?"on":"off")}a.setCommandEcho=xt;function Ct(e){process.exitCode=be.Failure,qe(e)}a.setFailed=Ct;function Dt(){return process.env.RUNNER_DEBUG==="1"}a.isDebug=Dt;function Ut(e){_.issueCommand("debug",{},e)}a.debug=Ut;function qe(e,t={}){_.issueCommand("error",j.toCommandProperties(t),e instanceof Error?e.toString():e)}a.error=qe;function kt(e,t={}){_.issueCommand("warning",j.toCommandProperties(t),e instanceof Error?e.toString():e)}a.warning=kt;function Nt(e,t={}){_.issueCommand("notice",j.toCommandProperties(t),e instanceof Error?e.toString():e)}a.notice=Nt;function It(e){process.stdout.write(e+B.EOL)}a.info=It;function Pe(e){_.issue("group",e)}a.startGroup=Pe;function xe(){_.issue("endgroup")}a.endGroup=xe;function Mt(e,t){return Te(this,void 0,void 0,function*(){Pe(e);let r;try{r=yield t()}finally{xe()}return r})}a.group=Mt;function Bt(e,t){_.issueCommand("save-state",{name:e},t)}a.saveState=Bt;function jt(e){return process.env[`STATE_${e}`]||""}a.getState=jt;function Lt(e){return Te(this,void 0,void 0,function*(){return yield Ot.OidcClient.getIDToken(e)})}a.getIDToken=Lt});var S=Ge(V());var Ce=require("child_process"),De="tempdir",Ue="systemd";function K(e,t){let r=(0,Ce.spawn)("sudo",e,{stdio:["ignore","ignore",t?.ignoreStderr?"ignore":"inherit"]});return new Promise((n,s)=>{r.on("close",o=>{o===0?n():s(new Error(e[0]+" exited with "+o))})})}(async()=>{try{let e=(0,S.getState)(De);e&&((0,S.info)("Removing "+e+"..."),await K(["rm","-rf",e]));let t=(0,S.getState)(Ue);t&&((0,S.info)("Removing "+t+"..."),await K(["rm","-f",t]))}catch(e){e instanceof Error?(0,S.setFailed)(e.message):(0,S.setFailed)(e+"")}})();
/**
@license
Copyright 2022 Ross Light

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

SPDX-License-Identifier: Apache-2.0
**/
