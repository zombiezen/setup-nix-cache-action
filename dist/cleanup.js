var $e=Object.create;var oe=Object.defineProperty;var Ie=Object.getOwnPropertyDescriptor;var Le=Object.getOwnPropertyNames;var Fe=Object.getPrototypeOf,Ve=Object.prototype.hasOwnProperty;var y=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Ge=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Le(e))!Ve.call(t,i)&&i!==r&&oe(t,i,{get:()=>e[i],enumerable:!(n=Ie(e,i))||n.enumerable});return t};var Je=(t,e,r)=>(r=t!=null?$e(Fe(t)):{},Ge(e||!t||!t.__esModule?oe(r,"default",{value:t,enumerable:!0}):r,t));var N=y(U=>{"use strict";Object.defineProperty(U,"__esModule",{value:!0});U.toCommandProperties=U.toCommandValue=void 0;function Ye(t){return t==null?"":typeof t=="string"||t instanceof String?t:JSON.stringify(t)}U.toCommandValue=Ye;function ze(t){return Object.keys(t).length?{title:t.title,file:t.file,line:t.startLine,endLine:t.endLine,col:t.startColumn,endColumn:t.endColumn}:{}}U.toCommandProperties=ze});var le=y(_=>{"use strict";var Ke=_&&_.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),He=_&&_.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Qe=_&&_.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Ke(e,t,r);return He(e,t),e};Object.defineProperty(_,"__esModule",{value:!0});_.issue=_.issueCommand=void 0;var We=Qe(require("os")),ue=N();function ce(t,e,r){let n=new G(t,e,r);process.stdout.write(n.toString()+We.EOL)}_.issueCommand=ce;function Xe(t,e=""){ce(t,{},e)}_.issue=Xe;var ae="::",G=class{constructor(e,r,n){e||(e="missing.command"),this.command=e,this.properties=r,this.message=n}toString(){let e=ae+this.command;if(this.properties&&Object.keys(this.properties).length>0){e+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:e+=",",e+=`${n}=${et(i)}`)}}return e+=`${ae}${Ze(this.message)}`,e}};function Ze(t){return ue.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function et(t){return ue.toCommandValue(t).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var he=y(R=>{"use strict";var tt=R&&R.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),rt=R&&R.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),de=R&&R.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&tt(e,t,r);return rt(e,t),e};Object.defineProperty(R,"__esModule",{value:!0});R.issueCommand=void 0;var fe=de(require("fs")),nt=de(require("os")),it=N();function st(t,e){let r=process.env[`GITHUB_${t}`];if(!r)throw new Error(`Unable to find environment variable for file command ${t}`);if(!fe.existsSync(r))throw new Error(`Missing file at path: ${r}`);fe.appendFileSync(r,`${it.toCommandValue(e)}${nt.EOL}`,{encoding:"utf8"})}R.issueCommand=st});var me=y(M=>{"use strict";Object.defineProperty(M,"__esModule",{value:!0});M.checkBypass=M.getProxyUrl=void 0;function ot(t){let e=t.protocol==="https:";if(pe(t))return;let r=(()=>e?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}M.getProxyUrl=ot;function pe(t){if(!t.hostname)return!1;let e=process.env.no_proxy||process.env.NO_PROXY||"";if(!e)return!1;let r;t.port?r=Number(t.port):t.protocol==="http:"?r=80:t.protocol==="https:"&&(r=443);let n=[t.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of e.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}M.checkBypass=pe});var we=y(D=>{"use strict";var nr=require("net"),at=require("tls"),J=require("http"),ve=require("https"),ut=require("events"),ir=require("assert"),ct=require("util");D.httpOverHttp=lt;D.httpsOverHttp=ft;D.httpOverHttps=dt;D.httpsOverHttps=ht;function lt(t){var e=new b(t);return e.request=J.request,e}function ft(t){var e=new b(t);return e.request=J.request,e.createSocket=ge,e.defaultPort=443,e}function dt(t){var e=new b(t);return e.request=ve.request,e}function ht(t){var e=new b(t);return e.request=ve.request,e.createSocket=ge,e.defaultPort=443,e}function b(t){var e=this;e.options=t||{},e.proxyOptions=e.options.proxy||{},e.maxSockets=e.options.maxSockets||J.Agent.defaultMaxSockets,e.requests=[],e.sockets=[],e.on("free",function(n,i,s,o){for(var l=_e(i,s,o),d=0,a=e.requests.length;d<a;++d){var u=e.requests[d];if(u.host===l.host&&u.port===l.port){e.requests.splice(d,1),u.request.onSocket(n);return}}n.destroy(),e.removeSocket(n)})}ct.inherits(b,ut.EventEmitter);b.prototype.addRequest=function(e,r,n,i){var s=this,o=Y({request:e},s.options,_e(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(o);return}s.createSocket(o,function(l){l.on("free",d),l.on("close",a),l.on("agentRemove",a),e.onSocket(l);function d(){s.emit("free",l,o)}function a(u){s.removeSocket(l),l.removeListener("free",d),l.removeListener("close",a),l.removeListener("agentRemove",a)}})};b.prototype.createSocket=function(e,r){var n=this,i={};n.sockets.push(i);var s=Y({},n.proxyOptions,{method:"CONNECT",path:e.host+":"+e.port,agent:!1,headers:{host:e.host+":"+e.port}});e.localAddress&&(s.localAddress=e.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),T("making CONNECT request");var o=n.request(s);o.useChunkedEncodingByDefault=!1,o.once("response",l),o.once("upgrade",d),o.once("connect",a),o.once("error",u),o.end();function l(f){f.upgrade=!0}function d(f,p,P){process.nextTick(function(){a(f,p,P)})}function a(f,p,P){if(o.removeAllListeners(),p.removeAllListeners(),f.statusCode!==200){T("tunneling socket could not be established, statusCode=%d",f.statusCode),p.destroy();var x=new Error("tunneling socket could not be established, statusCode="+f.statusCode);x.code="ECONNRESET",e.request.emit("error",x),n.removeSocket(i);return}if(P.length>0){T("got illegal response body from proxy"),p.destroy();var x=new Error("got illegal response body from proxy");x.code="ECONNRESET",e.request.emit("error",x),n.removeSocket(i);return}return T("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=p,r(p)}function u(f){o.removeAllListeners(),T(`tunneling socket could not be established, cause=%s
`,f.message,f.stack);var p=new Error("tunneling socket could not be established, cause="+f.message);p.code="ECONNRESET",e.request.emit("error",p),n.removeSocket(i)}};b.prototype.removeSocket=function(e){var r=this.sockets.indexOf(e);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function ge(t,e){var r=this;b.prototype.createSocket.call(r,t,function(n){var i=t.request.getHeader("host"),s=Y({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):t.host}),o=at.connect(0,s);r.sockets[r.sockets.indexOf(n)]=o,e(o)})}function _e(t,e,r){return typeof t=="string"?{host:t,port:e,localAddress:r}:t}function Y(t){for(var e=1,r=arguments.length;e<r;++e){var n=arguments[e];if(typeof n=="object")for(var i=Object.keys(n),s=0,o=i.length;s<o;++s){var l=i[s];n[l]!==void 0&&(t[l]=n[l])}}return t}var T;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?T=function(){var t=Array.prototype.slice.call(arguments);typeof t[0]=="string"?t[0]="TUNNEL: "+t[0]:t.unshift("TUNNEL:"),console.error.apply(console,t)}:T=function(){};D.debug=T});var Oe=y((or,ye)=>{ye.exports=we()});var Ee=y(h=>{"use strict";var pt=h&&h.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),mt=h&&h.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),L=h&&h.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&pt(e,t,r);return mt(e,t),e},m=h&&h.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{a(n.next(u))}catch(f){o(f)}}function d(u){try{a(n.throw(u))}catch(f){o(f)}}function a(u){u.done?s(u.value):i(u.value).then(l,d)}a((n=n.apply(t,e||[])).next())})};Object.defineProperty(h,"__esModule",{value:!0});h.HttpClient=h.isHttps=h.HttpClientResponse=h.HttpClientError=h.getProxyUrl=h.MediaTypes=h.Headers=h.HttpCodes=void 0;var j=L(require("http")),z=L(require("https")),Re=L(me()),B=L(Oe()),O;(function(t){t[t.OK=200]="OK",t[t.MultipleChoices=300]="MultipleChoices",t[t.MovedPermanently=301]="MovedPermanently",t[t.ResourceMoved=302]="ResourceMoved",t[t.SeeOther=303]="SeeOther",t[t.NotModified=304]="NotModified",t[t.UseProxy=305]="UseProxy",t[t.SwitchProxy=306]="SwitchProxy",t[t.TemporaryRedirect=307]="TemporaryRedirect",t[t.PermanentRedirect=308]="PermanentRedirect",t[t.BadRequest=400]="BadRequest",t[t.Unauthorized=401]="Unauthorized",t[t.PaymentRequired=402]="PaymentRequired",t[t.Forbidden=403]="Forbidden",t[t.NotFound=404]="NotFound",t[t.MethodNotAllowed=405]="MethodNotAllowed",t[t.NotAcceptable=406]="NotAcceptable",t[t.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",t[t.RequestTimeout=408]="RequestTimeout",t[t.Conflict=409]="Conflict",t[t.Gone=410]="Gone",t[t.TooManyRequests=429]="TooManyRequests",t[t.InternalServerError=500]="InternalServerError",t[t.NotImplemented=501]="NotImplemented",t[t.BadGateway=502]="BadGateway",t[t.ServiceUnavailable=503]="ServiceUnavailable",t[t.GatewayTimeout=504]="GatewayTimeout"})(O=h.HttpCodes||(h.HttpCodes={}));var v;(function(t){t.Accept="accept",t.ContentType="content-type"})(v=h.Headers||(h.Headers={}));var A;(function(t){t.ApplicationJson="application/json"})(A=h.MediaTypes||(h.MediaTypes={}));function vt(t){let e=Re.getProxyUrl(new URL(t));return e?e.href:""}h.getProxyUrl=vt;var gt=[O.MovedPermanently,O.ResourceMoved,O.SeeOther,O.TemporaryRedirect,O.PermanentRedirect],_t=[O.BadGateway,O.ServiceUnavailable,O.GatewayTimeout],wt=["OPTIONS","GET","DELETE","HEAD"],yt=10,Ot=5,C=class extends Error{constructor(e,r){super(e),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,C.prototype)}};h.HttpClientError=C;var I=class{constructor(e){this.message=e}readBody(){return m(this,void 0,void 0,function*(){return new Promise(e=>m(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{e(r.toString())})}))})}};h.HttpClientResponse=I;function Rt(t){return new URL(t).protocol==="https:"}h.isHttps=Rt;var K=class{constructor(e,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=e,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(e,r){return m(this,void 0,void 0,function*(){return this.request("OPTIONS",e,null,r||{})})}get(e,r){return m(this,void 0,void 0,function*(){return this.request("GET",e,null,r||{})})}del(e,r){return m(this,void 0,void 0,function*(){return this.request("DELETE",e,null,r||{})})}post(e,r,n){return m(this,void 0,void 0,function*(){return this.request("POST",e,r,n||{})})}patch(e,r,n){return m(this,void 0,void 0,function*(){return this.request("PATCH",e,r,n||{})})}put(e,r,n){return m(this,void 0,void 0,function*(){return this.request("PUT",e,r,n||{})})}head(e,r){return m(this,void 0,void 0,function*(){return this.request("HEAD",e,null,r||{})})}sendStream(e,r,n,i){return m(this,void 0,void 0,function*(){return this.request(e,r,n,i)})}getJson(e,r={}){return m(this,void 0,void 0,function*(){r[v.Accept]=this._getExistingOrDefaultHeader(r,v.Accept,A.ApplicationJson);let n=yield this.get(e,r);return this._processResponse(n,this.requestOptions)})}postJson(e,r,n={}){return m(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[v.Accept]=this._getExistingOrDefaultHeader(n,v.Accept,A.ApplicationJson),n[v.ContentType]=this._getExistingOrDefaultHeader(n,v.ContentType,A.ApplicationJson);let s=yield this.post(e,i,n);return this._processResponse(s,this.requestOptions)})}putJson(e,r,n={}){return m(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[v.Accept]=this._getExistingOrDefaultHeader(n,v.Accept,A.ApplicationJson),n[v.ContentType]=this._getExistingOrDefaultHeader(n,v.ContentType,A.ApplicationJson);let s=yield this.put(e,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(e,r,n={}){return m(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[v.Accept]=this._getExistingOrDefaultHeader(n,v.Accept,A.ApplicationJson),n[v.ContentType]=this._getExistingOrDefaultHeader(n,v.ContentType,A.ApplicationJson);let s=yield this.patch(e,i,n);return this._processResponse(s,this.requestOptions)})}request(e,r,n,i){return m(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),o=this._prepareRequest(e,s,i),l=this._allowRetries&&wt.includes(e)?this._maxRetries+1:1,d=0,a;do{if(a=yield this.requestRaw(o,n),a&&a.message&&a.message.statusCode===O.Unauthorized){let f;for(let p of this.handlers)if(p.canHandleAuthentication(a)){f=p;break}return f?f.handleAuthentication(this,o,n):a}let u=this._maxRedirects;for(;a.message.statusCode&&gt.includes(a.message.statusCode)&&this._allowRedirects&&u>0;){let f=a.message.headers.location;if(!f)break;let p=new URL(f);if(s.protocol==="https:"&&s.protocol!==p.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield a.readBody(),p.hostname!==s.hostname)for(let P in i)P.toLowerCase()==="authorization"&&delete i[P];o=this._prepareRequest(e,p,i),a=yield this.requestRaw(o,n),u--}if(!a.message.statusCode||!_t.includes(a.message.statusCode))return a;d+=1,d<l&&(yield a.readBody(),yield this._performExponentialBackoff(d))}while(d<l);return a})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(e,r){return m(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(o,l){o?i(o):l?n(l):i(new Error("Unknown error"))}this.requestRawWithCallback(e,r,s)})})}requestRawWithCallback(e,r,n){typeof r=="string"&&(e.options.headers||(e.options.headers={}),e.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(d,a){i||(i=!0,n(d,a))}let o=e.httpModule.request(e.options,d=>{let a=new I(d);s(void 0,a)}),l;o.on("socket",d=>{l=d}),o.setTimeout(this._socketTimeout||3*6e4,()=>{l&&l.end(),s(new Error(`Request timeout: ${e.options.path}`))}),o.on("error",function(d){s(d)}),r&&typeof r=="string"&&o.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){o.end()}),r.pipe(o)):o.end()}getAgent(e){let r=new URL(e);return this._getAgent(r)}_prepareRequest(e,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?z:j;let o=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):o,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=e,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let l of this.handlers)l.prepareRequest(i.options);return i}_mergeHeaders(e){return this.requestOptions&&this.requestOptions.headers?Object.assign({},$(this.requestOptions.headers),$(e||{})):$(e||{})}_getExistingOrDefaultHeader(e,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=$(this.requestOptions.headers)[r]),e[r]||i||n}_getAgent(e){let r,n=Re.getProxyUrl(e),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=e.protocol==="https:",o=100;if(this.requestOptions&&(o=this.requestOptions.maxSockets||j.globalAgent.maxSockets),n&&n.hostname){let l={maxSockets:o,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},d,a=n.protocol==="https:";s?d=a?B.httpsOverHttps:B.httpsOverHttp:d=a?B.httpOverHttps:B.httpOverHttp,r=d(l),this._proxyAgent=r}if(this._keepAlive&&!r){let l={keepAlive:this._keepAlive,maxSockets:o};r=s?new z.Agent(l):new j.Agent(l),this._agent=r}return r||(r=s?z.globalAgent:j.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(e){return m(this,void 0,void 0,function*(){e=Math.min(yt,e);let r=Ot*Math.pow(2,e);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(e,r){return m(this,void 0,void 0,function*(){return new Promise((n,i)=>m(this,void 0,void 0,function*(){let s=e.message.statusCode||0,o={statusCode:s,result:null,headers:{}};s===O.NotFound&&n(o);function l(u,f){if(typeof f=="string"){let p=new Date(f);if(!isNaN(p.valueOf()))return p}return f}let d,a;try{a=yield e.readBody(),a&&a.length>0&&(r&&r.deserializeDates?d=JSON.parse(a,l):d=JSON.parse(a),o.result=d),o.headers=e.message.headers}catch{}if(s>299){let u;d&&d.message?u=d.message:a&&a.length>0?u=a:u=`Failed request: (${s})`;let f=new C(u,s);f.result=o.result,i(f)}else n(o)}))})}};h.HttpClient=K;var $=t=>Object.keys(t).reduce((e,r)=>(e[r.toLowerCase()]=t[r],e),{})});var be=y(E=>{"use strict";var X=E&&E.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{a(n.next(u))}catch(f){o(f)}}function d(u){try{a(n.throw(u))}catch(f){o(f)}}function a(u){u.done?s(u.value):i(u.value).then(l,d)}a((n=n.apply(t,e||[])).next())})};Object.defineProperty(E,"__esModule",{value:!0});E.PersonalAccessTokenCredentialHandler=E.BearerCredentialHandler=E.BasicCredentialHandler=void 0;var H=class{constructor(e,r){this.username=e,this.password=r}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return X(this,void 0,void 0,function*(){throw new Error("not implemented")})}};E.BasicCredentialHandler=H;var Q=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return X(this,void 0,void 0,function*(){throw new Error("not implemented")})}};E.BearerCredentialHandler=Q;var W=class{constructor(e){this.token=e}prepareRequest(e){if(!e.headers)throw Error("The request has no headers");e.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return X(this,void 0,void 0,function*(){throw new Error("not implemented")})}};E.PersonalAccessTokenCredentialHandler=W});var Ae=y(k=>{"use strict";var Se=k&&k.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{a(n.next(u))}catch(f){o(f)}}function d(u){try{a(n.throw(u))}catch(f){o(f)}}function a(u){u.done?s(u.value):i(u.value).then(l,d)}a((n=n.apply(t,e||[])).next())})};Object.defineProperty(k,"__esModule",{value:!0});k.OidcClient=void 0;var Et=Ee(),bt=be(),Te=Z(),q=class{static createHttpClient(e=!0,r=10){let n={allowRetries:e,maxRetries:r};return new Et.HttpClient("actions/oidc-client",[new bt.BearerCredentialHandler(q.getRequestToken())],n)}static getRequestToken(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return e}static getIDTokenUrl(){let e=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!e)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return e}static getCall(e){var r;return Se(this,void 0,void 0,function*(){let s=(r=(yield q.createHttpClient().getJson(e).catch(o=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${o.statusCode}
 
        Error Message: ${o.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(e){return Se(this,void 0,void 0,function*(){try{let r=q.getIDTokenUrl();if(e){let i=encodeURIComponent(e);r=`${r}&audience=${i}`}Te.debug(`ID token url is ${r}`);let n=yield q.getCall(r);return Te.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};k.OidcClient=q});var ne=y(g=>{"use strict";var ee=g&&g.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{a(n.next(u))}catch(f){o(f)}}function d(u){try{a(n.throw(u))}catch(f){o(f)}}function a(u){u.done?s(u.value):i(u.value).then(l,d)}a((n=n.apply(t,e||[])).next())})};Object.defineProperty(g,"__esModule",{value:!0});g.summary=g.markdownSummary=g.SUMMARY_DOCS_URL=g.SUMMARY_ENV_VAR=void 0;var St=require("os"),te=require("fs"),{access:Tt,appendFile:At,writeFile:qt}=te.promises;g.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";g.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var re=class{constructor(){this._buffer=""}filePath(){return ee(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let e=process.env[g.SUMMARY_ENV_VAR];if(!e)throw new Error(`Unable to find environment variable for $${g.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Tt(e,te.constants.R_OK|te.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${e}'. Check if the file has correct read/write permissions.`)}return this._filePath=e,this._filePath})}wrap(e,r,n={}){let i=Object.entries(n).map(([s,o])=>` ${s}="${o}"`).join("");return r?`<${e}${i}>${r}</${e}>`:`<${e}${i}>`}write(e){return ee(this,void 0,void 0,function*(){let r=!!e?.overwrite,n=yield this.filePath();return yield(r?qt:At)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return ee(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(e,r=!1){return this._buffer+=e,r?this.addEOL():this}addEOL(){return this.addRaw(St.EOL)}addCodeBlock(e,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",e),n);return this.addRaw(i).addEOL()}addList(e,r=!1){let n=r?"ol":"ul",i=e.map(o=>this.wrap("li",o)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(e){let r=e.map(i=>{let s=i.map(o=>{if(typeof o=="string")return this.wrap("td",o);let{header:l,data:d,colspan:a,rowspan:u}=o,f=l?"th":"td",p=Object.assign(Object.assign({},a&&{colspan:a}),u&&{rowspan:u});return this.wrap(f,d,p)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(e,r){let n=this.wrap("details",this.wrap("summary",e)+r);return this.addRaw(n).addEOL()}addImage(e,r,n){let{width:i,height:s}=n||{},o=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),l=this.wrap("img",null,Object.assign({src:e,alt:r},o));return this.addRaw(l).addEOL()}addHeading(e,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,e);return this.addRaw(s).addEOL()}addSeparator(){let e=this.wrap("hr",null);return this.addRaw(e).addEOL()}addBreak(){let e=this.wrap("br",null);return this.addRaw(e).addEOL()}addQuote(e,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",e,n);return this.addRaw(i).addEOL()}addLink(e,r){let n=this.wrap("a",e,{href:r});return this.addRaw(n).addEOL()}},qe=new re;g.markdownSummary=qe;g.summary=qe});var Z=y(c=>{"use strict";var Pt=c&&c.__createBinding||(Object.create?function(t,e,r,n){n===void 0&&(n=r),Object.defineProperty(t,n,{enumerable:!0,get:function(){return e[r]}})}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}),Ut=c&&c.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),Pe=c&&c.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)r!=="default"&&Object.hasOwnProperty.call(t,r)&&Pt(e,t,r);return Ut(e,t),e},Ue=c&&c.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function l(u){try{a(n.next(u))}catch(f){o(f)}}function d(u){try{a(n.throw(u))}catch(f){o(f)}}function a(u){u.done?s(u.value):i(u.value).then(l,d)}a((n=n.apply(t,e||[])).next())})};Object.defineProperty(c,"__esModule",{value:!0});c.getIDToken=c.getState=c.saveState=c.group=c.endGroup=c.startGroup=c.info=c.notice=c.warning=c.error=c.debug=c.isDebug=c.setFailed=c.setCommandEcho=c.setOutput=c.getBooleanInput=c.getMultilineInput=c.getInput=c.addPath=c.setSecret=c.exportVariable=c.ExitCode=void 0;var w=le(),Me=he(),V=N(),F=Pe(require("os")),Mt=Pe(require("path")),Dt=Ae(),De;(function(t){t[t.Success=0]="Success",t[t.Failure=1]="Failure"})(De=c.ExitCode||(c.ExitCode={}));function Ct(t,e){let r=V.toCommandValue(e);if(process.env[t]=r,process.env.GITHUB_ENV||""){let i="_GitHubActionsFileCommandDelimeter_",s=`${t}<<${i}${F.EOL}${r}${F.EOL}${i}`;Me.issueCommand("ENV",s)}else w.issueCommand("set-env",{name:t},r)}c.exportVariable=Ct;function kt(t){w.issueCommand("add-mask",{},t)}c.setSecret=kt;function xt(t){process.env.GITHUB_PATH||""?Me.issueCommand("PATH",t):w.issueCommand("add-path",{},t),process.env.PATH=`${t}${Mt.delimiter}${process.env.PATH}`}c.addPath=xt;function ie(t,e){let r=process.env[`INPUT_${t.replace(/ /g,"_").toUpperCase()}`]||"";if(e&&e.required&&!r)throw new Error(`Input required and not supplied: ${t}`);return e&&e.trimWhitespace===!1?r:r.trim()}c.getInput=ie;function Nt(t,e){return ie(t,e).split(`
`).filter(n=>n!=="")}c.getMultilineInput=Nt;function jt(t,e){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=ie(t,e);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${t}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}c.getBooleanInput=jt;function Bt(t,e){process.stdout.write(F.EOL),w.issueCommand("set-output",{name:t},e)}c.setOutput=Bt;function $t(t){w.issue("echo",t?"on":"off")}c.setCommandEcho=$t;function It(t){process.exitCode=De.Failure,Ce(t)}c.setFailed=It;function Lt(){return process.env.RUNNER_DEBUG==="1"}c.isDebug=Lt;function Ft(t){w.issueCommand("debug",{},t)}c.debug=Ft;function Ce(t,e={}){w.issueCommand("error",V.toCommandProperties(e),t instanceof Error?t.toString():t)}c.error=Ce;function Vt(t,e={}){w.issueCommand("warning",V.toCommandProperties(e),t instanceof Error?t.toString():t)}c.warning=Vt;function Gt(t,e={}){w.issueCommand("notice",V.toCommandProperties(e),t instanceof Error?t.toString():t)}c.notice=Gt;function Jt(t){process.stdout.write(t+F.EOL)}c.info=Jt;function ke(t){w.issue("group",t)}c.startGroup=ke;function xe(){w.issue("endgroup")}c.endGroup=xe;function Yt(t,e){return Ue(this,void 0,void 0,function*(){ke(t);let r;try{r=yield e()}finally{xe()}return r})}c.group=Yt;function zt(t,e){w.issueCommand("save-state",{name:t},e)}c.saveState=zt;function Kt(t){return process.env[`STATE_${t}`]||""}c.getState=Kt;function Ht(t){return Ue(this,void 0,void 0,function*(){return yield Dt.OidcClient.getIDToken(t)})}c.getIDToken=Ht;var Qt=ne();Object.defineProperty(c,"summary",{enumerable:!0,get:function(){return Qt.summary}});var Wt=ne();Object.defineProperty(c,"markdownSummary",{enumerable:!0,get:function(){return Wt.markdownSummary}})});var S=Je(Z());var Ne=require("child_process"),je="tempdir",Be="systemd";function se(t,e){let r=(0,Ne.spawn)("sudo",t,{stdio:["ignore","ignore",e?.ignoreStderr?"ignore":"inherit"]});return new Promise((n,i)=>{r.on("close",s=>{s===0?n():i(new Error(t[0]+" exited with "+s))})})}(async()=>{try{let t=(0,S.getState)(je);t&&((0,S.info)("Removing "+t+"..."),await se(["rm","-rf",t]));let e=(0,S.getState)(Be);e&&((0,S.info)("Removing "+e+"..."),await se(["rm","-f",e]))}catch(t){t instanceof Error?(0,S.setFailed)(t.message):(0,S.setFailed)(t+"")}})();
/**
@license
Copyright 2022 Ross Light

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

SPDX-License-Identifier: Apache-2.0
**/
