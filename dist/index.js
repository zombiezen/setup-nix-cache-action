"use strict";var is=Object.create;var xr=Object.defineProperty;var ss=Object.getOwnPropertyDescriptor;var as=Object.getOwnPropertyNames;var os=Object.getPrototypeOf,us=Object.prototype.hasOwnProperty;var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var cs=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of as(t))!us.call(e,i)&&i!==r&&xr(e,i,{get:()=>t[i],enumerable:!(n=ss(t,i))||n.enumerable});return e};var Le=(e,t,r)=>(r=e!=null?is(os(e)):{},cs(t||!e||!e.__esModule?xr(r,"default",{value:e,enumerable:!0}):r,e));var Be=m(pe=>{"use strict";Object.defineProperty(pe,"__esModule",{value:!0});pe.toCommandProperties=pe.toCommandValue=void 0;function ls(e){return e==null?"":typeof e=="string"||e instanceof String?e:JSON.stringify(e)}pe.toCommandValue=ls;function fs(e){return Object.keys(e).length?{title:e.title,file:e.file,line:e.startLine,endLine:e.endLine,col:e.startColumn,endColumn:e.endColumn}:{}}pe.toCommandProperties=fs});var Cr=m(j=>{"use strict";var hs=j&&j.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ds=j&&j.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ps=j&&j.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&hs(t,e,r);return ds(t,e),t};Object.defineProperty(j,"__esModule",{value:!0});j.issue=j.issueCommand=void 0;var vs=ps(require("os")),Mr=Be();function Ir(e,t,r){let n=new Et(e,t,r);process.stdout.write(n.toString()+vs.EOL)}j.issueCommand=Ir;function ms(e,t=""){Ir(e,{},t)}j.issue=ms;var Nr="::",Et=class{constructor(t,r,n){t||(t="missing.command"),this.command=t,this.properties=r,this.message=n}toString(){let t=Nr+this.command;if(this.properties&&Object.keys(this.properties).length>0){t+=" ";let r=!0;for(let n in this.properties)if(this.properties.hasOwnProperty(n)){let i=this.properties[n];i&&(r?r=!1:t+=",",t+=`${n}=${ys(i)}`)}}return t+=`${Nr}${gs(this.message)}`,t}};function gs(e){return Mr.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A")}function ys(e){return Mr.toCommandValue(e).replace(/%/g,"%25").replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/:/g,"%3A").replace(/,/g,"%2C")}});var Ot=m(bt=>{"use strict";Object.defineProperty(bt,"__esModule",{value:!0});bt.default=Es;var _s=ws(require("crypto"));function ws(e){return e&&e.__esModule?e:{default:e}}var Ge=new Uint8Array(256),$e=Ge.length;function Es(){return $e>Ge.length-16&&(_s.default.randomFillSync(Ge),$e=0),Ge.slice($e,$e+=16)}});var jr=m(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.default=void 0;var bs=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;Fe.default=bs});var Pe=m(Ve=>{"use strict";Object.defineProperty(Ve,"__esModule",{value:!0});Ve.default=void 0;var Os=Ss(jr());function Ss(e){return e&&e.__esModule?e:{default:e}}function As(e){return typeof e=="string"&&Os.default.test(e)}var Rs=As;Ve.default=Rs});var qe=m(Ke=>{"use strict";Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=void 0;var Ts=ks(Pe());function ks(e){return e&&e.__esModule?e:{default:e}}var q=[];for(let e=0;e<256;++e)q.push((e+256).toString(16).substr(1));function Ps(e,t=0){let r=(q[e[t+0]]+q[e[t+1]]+q[e[t+2]]+q[e[t+3]]+"-"+q[e[t+4]]+q[e[t+5]]+"-"+q[e[t+6]]+q[e[t+7]]+"-"+q[e[t+8]]+q[e[t+9]]+"-"+q[e[t+10]]+q[e[t+11]]+q[e[t+12]]+q[e[t+13]]+q[e[t+14]]+q[e[t+15]]).toLowerCase();if(!(0,Ts.default)(r))throw TypeError("Stringified UUID is invalid");return r}var qs=Ps;Ke.default=qs});var Br=m(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.default=void 0;var Ds=Lr(Ot()),xs=Lr(qe());function Lr(e){return e&&e.__esModule?e:{default:e}}var Ur,St,At=0,Rt=0;function Ns(e,t,r){let n=t&&r||0,i=t||new Array(16);e=e||{};let s=e.node||Ur,a=e.clockseq!==void 0?e.clockseq:St;if(s==null||a==null){let f=e.random||(e.rng||Ds.default)();s==null&&(s=Ur=[f[0]|1,f[1],f[2],f[3],f[4],f[5]]),a==null&&(a=St=(f[6]<<8|f[7])&16383)}let u=e.msecs!==void 0?e.msecs:Date.now(),o=e.nsecs!==void 0?e.nsecs:Rt+1,c=u-At+(o-Rt)/1e4;if(c<0&&e.clockseq===void 0&&(a=a+1&16383),(c<0||u>At)&&e.nsecs===void 0&&(o=0),o>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");At=u,Rt=o,St=a,u+=122192928e5;let l=((u&268435455)*1e4+o)%4294967296;i[n++]=l>>>24&255,i[n++]=l>>>16&255,i[n++]=l>>>8&255,i[n++]=l&255;let h=u/4294967296*1e4&268435455;i[n++]=h>>>8&255,i[n++]=h&255,i[n++]=h>>>24&15|16,i[n++]=h>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(let f=0;f<6;++f)i[n+f]=s[f];return t||(0,xs.default)(i)}var Ms=Ns;We.default=Ms});var Tt=m(ze=>{"use strict";Object.defineProperty(ze,"__esModule",{value:!0});ze.default=void 0;var Is=Cs(Pe());function Cs(e){return e&&e.__esModule?e:{default:e}}function js(e){if(!(0,Is.default)(e))throw TypeError("Invalid UUID");let t,r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=t&255,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=t&255,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=t&255,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=t&255,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=t&255,r}var Us=js;ze.default=Us});var kt=m(ae=>{"use strict";Object.defineProperty(ae,"__esModule",{value:!0});ae.default=Gs;ae.URL=ae.DNS=void 0;var Ls=$r(qe()),Bs=$r(Tt());function $r(e){return e&&e.__esModule?e:{default:e}}function $s(e){e=unescape(encodeURIComponent(e));let t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}var Gr="6ba7b810-9dad-11d1-80b4-00c04fd430c8";ae.DNS=Gr;var Fr="6ba7b811-9dad-11d1-80b4-00c04fd430c8";ae.URL=Fr;function Gs(e,t,r){function n(i,s,a,u){if(typeof i=="string"&&(i=$s(i)),typeof s=="string"&&(s=(0,Bs.default)(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let o=new Uint8Array(16+i.length);if(o.set(s),o.set(i,s.length),o=r(o),o[6]=o[6]&15|t,o[8]=o[8]&63|128,a){u=u||0;for(let c=0;c<16;++c)a[u+c]=o[c];return a}return(0,Ls.default)(o)}try{n.name=e}catch{}return n.DNS=Gr,n.URL=Fr,n}});var Vr=m(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.default=void 0;var Fs=Vs(require("crypto"));function Vs(e){return e&&e.__esModule?e:{default:e}}function Ks(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),Fs.default.createHash("md5").update(e).digest()}var Ws=Ks;Je.default=Ws});var Wr=m(Ye=>{"use strict";Object.defineProperty(Ye,"__esModule",{value:!0});Ye.default=void 0;var zs=Kr(kt()),Js=Kr(Vr());function Kr(e){return e&&e.__esModule?e:{default:e}}var Ys=(0,zs.default)("v3",48,Js.default),Hs=Ys;Ye.default=Hs});var Jr=m(He=>{"use strict";Object.defineProperty(He,"__esModule",{value:!0});He.default=void 0;var Qs=zr(Ot()),Xs=zr(qe());function zr(e){return e&&e.__esModule?e:{default:e}}function Zs(e,t,r){e=e||{};let n=e.random||(e.rng||Qs.default)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){r=r||0;for(let i=0;i<16;++i)t[r+i]=n[i];return t}return(0,Xs.default)(n)}var ea=Zs;He.default=ea});var Yr=m(Qe=>{"use strict";Object.defineProperty(Qe,"__esModule",{value:!0});Qe.default=void 0;var ta=ra(require("crypto"));function ra(e){return e&&e.__esModule?e:{default:e}}function na(e){return Array.isArray(e)?e=Buffer.from(e):typeof e=="string"&&(e=Buffer.from(e,"utf8")),ta.default.createHash("sha1").update(e).digest()}var ia=na;Qe.default=ia});var Qr=m(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.default=void 0;var sa=Hr(kt()),aa=Hr(Yr());function Hr(e){return e&&e.__esModule?e:{default:e}}var oa=(0,sa.default)("v5",80,aa.default),ua=oa;Xe.default=ua});var Xr=m(Ze=>{"use strict";Object.defineProperty(Ze,"__esModule",{value:!0});Ze.default=void 0;var ca="00000000-0000-0000-0000-000000000000";Ze.default=ca});var Zr=m(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.default=void 0;var la=fa(Pe());function fa(e){return e&&e.__esModule?e:{default:e}}function ha(e){if(!(0,la.default)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}var da=ha;et.default=da});var en=m(G=>{"use strict";Object.defineProperty(G,"__esModule",{value:!0});Object.defineProperty(G,"v1",{enumerable:!0,get:function(){return pa.default}});Object.defineProperty(G,"v3",{enumerable:!0,get:function(){return va.default}});Object.defineProperty(G,"v4",{enumerable:!0,get:function(){return ma.default}});Object.defineProperty(G,"v5",{enumerable:!0,get:function(){return ga.default}});Object.defineProperty(G,"NIL",{enumerable:!0,get:function(){return ya.default}});Object.defineProperty(G,"version",{enumerable:!0,get:function(){return _a.default}});Object.defineProperty(G,"validate",{enumerable:!0,get:function(){return wa.default}});Object.defineProperty(G,"stringify",{enumerable:!0,get:function(){return Ea.default}});Object.defineProperty(G,"parse",{enumerable:!0,get:function(){return ba.default}});var pa=z(Br()),va=z(Wr()),ma=z(Jr()),ga=z(Qr()),ya=z(Xr()),_a=z(Zr()),wa=z(Pe()),Ea=z(qe()),ba=z(Tt());function z(e){return e&&e.__esModule?e:{default:e}}});var sn=m(U=>{"use strict";var Oa=U&&U.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Sa=U&&U.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),rn=U&&U.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Oa(t,e,r);return Sa(t,e),t};Object.defineProperty(U,"__esModule",{value:!0});U.prepareKeyValueMessage=U.issueFileCommand=void 0;var tn=rn(require("fs")),Pt=rn(require("os")),Aa=en(),nn=Be();function Ra(e,t){let r=process.env[`GITHUB_${e}`];if(!r)throw new Error(`Unable to find environment variable for file command ${e}`);if(!tn.existsSync(r))throw new Error(`Missing file at path: ${r}`);tn.appendFileSync(r,`${nn.toCommandValue(t)}${Pt.EOL}`,{encoding:"utf8"})}U.issueFileCommand=Ra;function Ta(e,t){let r=`ghadelimiter_${Aa.v4()}`,n=nn.toCommandValue(t);if(e.includes(r))throw new Error(`Unexpected input: name should not contain the delimiter "${r}"`);if(n.includes(r))throw new Error(`Unexpected input: value should not contain the delimiter "${r}"`);return`${e}<<${r}${Pt.EOL}${n}${Pt.EOL}${r}`}U.prepareKeyValueMessage=Ta});var on=m(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.checkBypass=ve.getProxyUrl=void 0;function ka(e){let t=e.protocol==="https:";if(an(e))return;let r=(()=>t?process.env.https_proxy||process.env.HTTPS_PROXY:process.env.http_proxy||process.env.HTTP_PROXY)();if(r)return new URL(r)}ve.getProxyUrl=ka;function an(e){if(!e.hostname)return!1;let t=process.env.no_proxy||process.env.NO_PROXY||"";if(!t)return!1;let r;e.port?r=Number(e.port):e.protocol==="http:"?r=80:e.protocol==="https:"&&(r=443);let n=[e.hostname.toUpperCase()];typeof r=="number"&&n.push(`${n[0]}:${r}`);for(let i of t.split(",").map(s=>s.trim().toUpperCase()).filter(s=>s))if(n.some(s=>s===i))return!0;return!1}ve.checkBypass=an});var fn=m(me=>{"use strict";var dc=require("net"),Pa=require("tls"),qt=require("http"),un=require("https"),qa=require("events"),pc=require("assert"),Da=require("util");me.httpOverHttp=xa;me.httpsOverHttp=Na;me.httpOverHttps=Ma;me.httpsOverHttps=Ia;function xa(e){var t=new J(e);return t.request=qt.request,t}function Na(e){var t=new J(e);return t.request=qt.request,t.createSocket=cn,t.defaultPort=443,t}function Ma(e){var t=new J(e);return t.request=un.request,t}function Ia(e){var t=new J(e);return t.request=un.request,t.createSocket=cn,t.defaultPort=443,t}function J(e){var t=this;t.options=e||{},t.proxyOptions=t.options.proxy||{},t.maxSockets=t.options.maxSockets||qt.Agent.defaultMaxSockets,t.requests=[],t.sockets=[],t.on("free",function(n,i,s,a){for(var u=ln(i,s,a),o=0,c=t.requests.length;o<c;++o){var l=t.requests[o];if(l.host===u.host&&l.port===u.port){t.requests.splice(o,1),l.request.onSocket(n);return}}n.destroy(),t.removeSocket(n)})}Da.inherits(J,qa.EventEmitter);J.prototype.addRequest=function(t,r,n,i){var s=this,a=Dt({request:t},s.options,ln(r,n,i));if(s.sockets.length>=this.maxSockets){s.requests.push(a);return}s.createSocket(a,function(u){u.on("free",o),u.on("close",c),u.on("agentRemove",c),t.onSocket(u);function o(){s.emit("free",u,a)}function c(l){s.removeSocket(u),u.removeListener("free",o),u.removeListener("close",c),u.removeListener("agentRemove",c)}})};J.prototype.createSocket=function(t,r){var n=this,i={};n.sockets.push(i);var s=Dt({},n.proxyOptions,{method:"CONNECT",path:t.host+":"+t.port,agent:!1,headers:{host:t.host+":"+t.port}});t.localAddress&&(s.localAddress=t.localAddress),s.proxyAuth&&(s.headers=s.headers||{},s.headers["Proxy-Authorization"]="Basic "+new Buffer(s.proxyAuth).toString("base64")),Q("making CONNECT request");var a=n.request(s);a.useChunkedEncodingByDefault=!1,a.once("response",u),a.once("upgrade",o),a.once("connect",c),a.once("error",l),a.end();function u(h){h.upgrade=!0}function o(h,f,d){process.nextTick(function(){c(h,f,d)})}function c(h,f,d){if(a.removeAllListeners(),f.removeAllListeners(),h.statusCode!==200){Q("tunneling socket could not be established, statusCode=%d",h.statusCode),f.destroy();var p=new Error("tunneling socket could not be established, statusCode="+h.statusCode);p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i);return}if(d.length>0){Q("got illegal response body from proxy"),f.destroy();var p=new Error("got illegal response body from proxy");p.code="ECONNRESET",t.request.emit("error",p),n.removeSocket(i);return}return Q("tunneling connection has established"),n.sockets[n.sockets.indexOf(i)]=f,r(f)}function l(h){a.removeAllListeners(),Q(`tunneling socket could not be established, cause=%s
`,h.message,h.stack);var f=new Error("tunneling socket could not be established, cause="+h.message);f.code="ECONNRESET",t.request.emit("error",f),n.removeSocket(i)}};J.prototype.removeSocket=function(t){var r=this.sockets.indexOf(t);if(r!==-1){this.sockets.splice(r,1);var n=this.requests.shift();n&&this.createSocket(n,function(i){n.request.onSocket(i)})}};function cn(e,t){var r=this;J.prototype.createSocket.call(r,e,function(n){var i=e.request.getHeader("host"),s=Dt({},r.options,{socket:n,servername:i?i.replace(/:.*$/,""):e.host}),a=Pa.connect(0,s);r.sockets[r.sockets.indexOf(n)]=a,t(a)})}function ln(e,t,r){return typeof e=="string"?{host:e,port:t,localAddress:r}:e}function Dt(e){for(var t=1,r=arguments.length;t<r;++t){var n=arguments[t];if(typeof n=="object")for(var i=Object.keys(n),s=0,a=i.length;s<a;++s){var u=i[s];n[u]!==void 0&&(e[u]=n[u])}}return e}var Q;process.env.NODE_DEBUG&&/\btunnel\b/.test(process.env.NODE_DEBUG)?Q=function(){var e=Array.prototype.slice.call(arguments);typeof e[0]=="string"?e[0]="TUNNEL: "+e[0]:e.unshift("TUNNEL:"),console.error.apply(console,e)}:Q=function(){};me.debug=Q});var dn=m((mc,hn)=>{hn.exports=fn()});var vn=m(E=>{"use strict";var Ca=E&&E.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),ja=E&&E.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),st=E&&E.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Ca(t,e,r);return ja(t,e),t},S=E&&E.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function u(l){try{c(n.next(l))}catch(h){a(h)}}function o(l){try{c(n.throw(l))}catch(h){a(h)}}function c(l){l.done?s(l.value):i(l.value).then(u,o)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(E,"__esModule",{value:!0});E.HttpClient=E.isHttps=E.HttpClientResponse=E.HttpClientError=E.getProxyUrl=E.MediaTypes=E.Headers=E.HttpCodes=void 0;var tt=st(require("http")),xt=st(require("https")),pn=st(on()),rt=st(dn()),F;(function(e){e[e.OK=200]="OK",e[e.MultipleChoices=300]="MultipleChoices",e[e.MovedPermanently=301]="MovedPermanently",e[e.ResourceMoved=302]="ResourceMoved",e[e.SeeOther=303]="SeeOther",e[e.NotModified=304]="NotModified",e[e.UseProxy=305]="UseProxy",e[e.SwitchProxy=306]="SwitchProxy",e[e.TemporaryRedirect=307]="TemporaryRedirect",e[e.PermanentRedirect=308]="PermanentRedirect",e[e.BadRequest=400]="BadRequest",e[e.Unauthorized=401]="Unauthorized",e[e.PaymentRequired=402]="PaymentRequired",e[e.Forbidden=403]="Forbidden",e[e.NotFound=404]="NotFound",e[e.MethodNotAllowed=405]="MethodNotAllowed",e[e.NotAcceptable=406]="NotAcceptable",e[e.ProxyAuthenticationRequired=407]="ProxyAuthenticationRequired",e[e.RequestTimeout=408]="RequestTimeout",e[e.Conflict=409]="Conflict",e[e.Gone=410]="Gone",e[e.TooManyRequests=429]="TooManyRequests",e[e.InternalServerError=500]="InternalServerError",e[e.NotImplemented=501]="NotImplemented",e[e.BadGateway=502]="BadGateway",e[e.ServiceUnavailable=503]="ServiceUnavailable",e[e.GatewayTimeout=504]="GatewayTimeout"})(F=E.HttpCodes||(E.HttpCodes={}));var x;(function(e){e.Accept="accept",e.ContentType="content-type"})(x=E.Headers||(E.Headers={}));var X;(function(e){e.ApplicationJson="application/json"})(X=E.MediaTypes||(E.MediaTypes={}));function Ua(e){let t=pn.getProxyUrl(new URL(e));return t?t.href:""}E.getProxyUrl=Ua;var La=[F.MovedPermanently,F.ResourceMoved,F.SeeOther,F.TemporaryRedirect,F.PermanentRedirect],Ba=[F.BadGateway,F.ServiceUnavailable,F.GatewayTimeout],$a=["OPTIONS","GET","DELETE","HEAD"],Ga=10,Fa=5,ge=class extends Error{constructor(t,r){super(t),this.name="HttpClientError",this.statusCode=r,Object.setPrototypeOf(this,ge.prototype)}};E.HttpClientError=ge;var it=class{constructor(t){this.message=t}readBody(){return S(this,void 0,void 0,function*(){return new Promise(t=>S(this,void 0,void 0,function*(){let r=Buffer.alloc(0);this.message.on("data",n=>{r=Buffer.concat([r,n])}),this.message.on("end",()=>{t(r.toString())})}))})}};E.HttpClientResponse=it;function Va(e){return new URL(e).protocol==="https:"}E.isHttps=Va;var Nt=class{constructor(t,r,n){this._ignoreSslError=!1,this._allowRedirects=!0,this._allowRedirectDowngrade=!1,this._maxRedirects=50,this._allowRetries=!1,this._maxRetries=1,this._keepAlive=!1,this._disposed=!1,this.userAgent=t,this.handlers=r||[],this.requestOptions=n,n&&(n.ignoreSslError!=null&&(this._ignoreSslError=n.ignoreSslError),this._socketTimeout=n.socketTimeout,n.allowRedirects!=null&&(this._allowRedirects=n.allowRedirects),n.allowRedirectDowngrade!=null&&(this._allowRedirectDowngrade=n.allowRedirectDowngrade),n.maxRedirects!=null&&(this._maxRedirects=Math.max(n.maxRedirects,0)),n.keepAlive!=null&&(this._keepAlive=n.keepAlive),n.allowRetries!=null&&(this._allowRetries=n.allowRetries),n.maxRetries!=null&&(this._maxRetries=n.maxRetries))}options(t,r){return S(this,void 0,void 0,function*(){return this.request("OPTIONS",t,null,r||{})})}get(t,r){return S(this,void 0,void 0,function*(){return this.request("GET",t,null,r||{})})}del(t,r){return S(this,void 0,void 0,function*(){return this.request("DELETE",t,null,r||{})})}post(t,r,n){return S(this,void 0,void 0,function*(){return this.request("POST",t,r,n||{})})}patch(t,r,n){return S(this,void 0,void 0,function*(){return this.request("PATCH",t,r,n||{})})}put(t,r,n){return S(this,void 0,void 0,function*(){return this.request("PUT",t,r,n||{})})}head(t,r){return S(this,void 0,void 0,function*(){return this.request("HEAD",t,null,r||{})})}sendStream(t,r,n,i){return S(this,void 0,void 0,function*(){return this.request(t,r,n,i)})}getJson(t,r={}){return S(this,void 0,void 0,function*(){r[x.Accept]=this._getExistingOrDefaultHeader(r,x.Accept,X.ApplicationJson);let n=yield this.get(t,r);return this._processResponse(n,this.requestOptions)})}postJson(t,r,n={}){return S(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[x.Accept]=this._getExistingOrDefaultHeader(n,x.Accept,X.ApplicationJson),n[x.ContentType]=this._getExistingOrDefaultHeader(n,x.ContentType,X.ApplicationJson);let s=yield this.post(t,i,n);return this._processResponse(s,this.requestOptions)})}putJson(t,r,n={}){return S(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[x.Accept]=this._getExistingOrDefaultHeader(n,x.Accept,X.ApplicationJson),n[x.ContentType]=this._getExistingOrDefaultHeader(n,x.ContentType,X.ApplicationJson);let s=yield this.put(t,i,n);return this._processResponse(s,this.requestOptions)})}patchJson(t,r,n={}){return S(this,void 0,void 0,function*(){let i=JSON.stringify(r,null,2);n[x.Accept]=this._getExistingOrDefaultHeader(n,x.Accept,X.ApplicationJson),n[x.ContentType]=this._getExistingOrDefaultHeader(n,x.ContentType,X.ApplicationJson);let s=yield this.patch(t,i,n);return this._processResponse(s,this.requestOptions)})}request(t,r,n,i){return S(this,void 0,void 0,function*(){if(this._disposed)throw new Error("Client has already been disposed.");let s=new URL(r),a=this._prepareRequest(t,s,i),u=this._allowRetries&&$a.includes(t)?this._maxRetries+1:1,o=0,c;do{if(c=yield this.requestRaw(a,n),c&&c.message&&c.message.statusCode===F.Unauthorized){let h;for(let f of this.handlers)if(f.canHandleAuthentication(c)){h=f;break}return h?h.handleAuthentication(this,a,n):c}let l=this._maxRedirects;for(;c.message.statusCode&&La.includes(c.message.statusCode)&&this._allowRedirects&&l>0;){let h=c.message.headers.location;if(!h)break;let f=new URL(h);if(s.protocol==="https:"&&s.protocol!==f.protocol&&!this._allowRedirectDowngrade)throw new Error("Redirect from HTTPS to HTTP protocol. This downgrade is not allowed for security reasons. If you want to allow this behavior, set the allowRedirectDowngrade option to true.");if(yield c.readBody(),f.hostname!==s.hostname)for(let d in i)d.toLowerCase()==="authorization"&&delete i[d];a=this._prepareRequest(t,f,i),c=yield this.requestRaw(a,n),l--}if(!c.message.statusCode||!Ba.includes(c.message.statusCode))return c;o+=1,o<u&&(yield c.readBody(),yield this._performExponentialBackoff(o))}while(o<u);return c})}dispose(){this._agent&&this._agent.destroy(),this._disposed=!0}requestRaw(t,r){return S(this,void 0,void 0,function*(){return new Promise((n,i)=>{function s(a,u){a?i(a):u?n(u):i(new Error("Unknown error"))}this.requestRawWithCallback(t,r,s)})})}requestRawWithCallback(t,r,n){typeof r=="string"&&(t.options.headers||(t.options.headers={}),t.options.headers["Content-Length"]=Buffer.byteLength(r,"utf8"));let i=!1;function s(o,c){i||(i=!0,n(o,c))}let a=t.httpModule.request(t.options,o=>{let c=new it(o);s(void 0,c)}),u;a.on("socket",o=>{u=o}),a.setTimeout(this._socketTimeout||3*6e4,()=>{u&&u.end(),s(new Error(`Request timeout: ${t.options.path}`))}),a.on("error",function(o){s(o)}),r&&typeof r=="string"&&a.write(r,"utf8"),r&&typeof r!="string"?(r.on("close",function(){a.end()}),r.pipe(a)):a.end()}getAgent(t){let r=new URL(t);return this._getAgent(r)}_prepareRequest(t,r,n){let i={};i.parsedUrl=r;let s=i.parsedUrl.protocol==="https:";i.httpModule=s?xt:tt;let a=s?443:80;if(i.options={},i.options.host=i.parsedUrl.hostname,i.options.port=i.parsedUrl.port?parseInt(i.parsedUrl.port):a,i.options.path=(i.parsedUrl.pathname||"")+(i.parsedUrl.search||""),i.options.method=t,i.options.headers=this._mergeHeaders(n),this.userAgent!=null&&(i.options.headers["user-agent"]=this.userAgent),i.options.agent=this._getAgent(i.parsedUrl),this.handlers)for(let u of this.handlers)u.prepareRequest(i.options);return i}_mergeHeaders(t){return this.requestOptions&&this.requestOptions.headers?Object.assign({},nt(this.requestOptions.headers),nt(t||{})):nt(t||{})}_getExistingOrDefaultHeader(t,r,n){let i;return this.requestOptions&&this.requestOptions.headers&&(i=nt(this.requestOptions.headers)[r]),t[r]||i||n}_getAgent(t){let r,n=pn.getProxyUrl(t),i=n&&n.hostname;if(this._keepAlive&&i&&(r=this._proxyAgent),this._keepAlive&&!i&&(r=this._agent),r)return r;let s=t.protocol==="https:",a=100;if(this.requestOptions&&(a=this.requestOptions.maxSockets||tt.globalAgent.maxSockets),n&&n.hostname){let u={maxSockets:a,keepAlive:this._keepAlive,proxy:Object.assign(Object.assign({},(n.username||n.password)&&{proxyAuth:`${n.username}:${n.password}`}),{host:n.hostname,port:n.port})},o,c=n.protocol==="https:";s?o=c?rt.httpsOverHttps:rt.httpsOverHttp:o=c?rt.httpOverHttps:rt.httpOverHttp,r=o(u),this._proxyAgent=r}if(this._keepAlive&&!r){let u={keepAlive:this._keepAlive,maxSockets:a};r=s?new xt.Agent(u):new tt.Agent(u),this._agent=r}return r||(r=s?xt.globalAgent:tt.globalAgent),s&&this._ignoreSslError&&(r.options=Object.assign(r.options||{},{rejectUnauthorized:!1})),r}_performExponentialBackoff(t){return S(this,void 0,void 0,function*(){t=Math.min(Ga,t);let r=Fa*Math.pow(2,t);return new Promise(n=>setTimeout(()=>n(),r))})}_processResponse(t,r){return S(this,void 0,void 0,function*(){return new Promise((n,i)=>S(this,void 0,void 0,function*(){let s=t.message.statusCode||0,a={statusCode:s,result:null,headers:{}};s===F.NotFound&&n(a);function u(l,h){if(typeof h=="string"){let f=new Date(h);if(!isNaN(f.valueOf()))return f}return h}let o,c;try{c=yield t.readBody(),c&&c.length>0&&(r&&r.deserializeDates?o=JSON.parse(c,u):o=JSON.parse(c),a.result=o),a.headers=t.message.headers}catch{}if(s>299){let l;o&&o.message?l=o.message:c&&c.length>0?l=c:l=`Failed request: (${s})`;let h=new ge(l,s);h.result=a.result,i(h)}else n(a)}))})}};E.HttpClient=Nt;var nt=e=>Object.keys(e).reduce((t,r)=>(t[r.toLowerCase()]=e[r],t),{})});var mn=m(V=>{"use strict";var jt=V&&V.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function u(l){try{c(n.next(l))}catch(h){a(h)}}function o(l){try{c(n.throw(l))}catch(h){a(h)}}function c(l){l.done?s(l.value):i(l.value).then(u,o)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(V,"__esModule",{value:!0});V.PersonalAccessTokenCredentialHandler=V.BearerCredentialHandler=V.BasicCredentialHandler=void 0;var Mt=class{constructor(t,r){this.username=t,this.password=r}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`${this.username}:${this.password}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return jt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};V.BasicCredentialHandler=Mt;var It=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Bearer ${this.token}`}canHandleAuthentication(){return!1}handleAuthentication(){return jt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};V.BearerCredentialHandler=It;var Ct=class{constructor(t){this.token=t}prepareRequest(t){if(!t.headers)throw Error("The request has no headers");t.headers.Authorization=`Basic ${Buffer.from(`PAT:${this.token}`).toString("base64")}`}canHandleAuthentication(){return!1}handleAuthentication(){return jt(this,void 0,void 0,function*(){throw new Error("not implemented")})}};V.PersonalAccessTokenCredentialHandler=Ct});var _n=m(ye=>{"use strict";var gn=ye&&ye.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function u(l){try{c(n.next(l))}catch(h){a(h)}}function o(l){try{c(n.throw(l))}catch(h){a(h)}}function c(l){l.done?s(l.value):i(l.value).then(u,o)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(ye,"__esModule",{value:!0});ye.OidcClient=void 0;var Ka=vn(),Wa=mn(),yn=at(),Z=class{static createHttpClient(t=!0,r=10){let n={allowRetries:t,maxRetries:r};return new Ka.HttpClient("actions/oidc-client",[new Wa.BearerCredentialHandler(Z.getRequestToken())],n)}static getRequestToken(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_TOKEN;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_TOKEN env variable");return t}static getIDTokenUrl(){let t=process.env.ACTIONS_ID_TOKEN_REQUEST_URL;if(!t)throw new Error("Unable to get ACTIONS_ID_TOKEN_REQUEST_URL env variable");return t}static getCall(t){var r;return gn(this,void 0,void 0,function*(){let s=(r=(yield Z.createHttpClient().getJson(t).catch(a=>{throw new Error(`Failed to get ID Token. 
 
        Error Code : ${a.statusCode}
 
        Error Message: ${a.result.message}`)})).result)===null||r===void 0?void 0:r.value;if(!s)throw new Error("Response json body do not have ID Token field");return s})}static getIDToken(t){return gn(this,void 0,void 0,function*(){try{let r=Z.getIDTokenUrl();if(t){let i=encodeURIComponent(t);r=`${r}&audience=${i}`}yn.debug(`ID token url is ${r}`);let n=yield Z.getCall(r);return yn.setSecret(n),n}catch(r){throw new Error(`Error message: ${r.message}`)}})}};ye.OidcClient=Z});var $t=m(N=>{"use strict";var Ut=N&&N.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function u(l){try{c(n.next(l))}catch(h){a(h)}}function o(l){try{c(n.throw(l))}catch(h){a(h)}}function c(l){l.done?s(l.value):i(l.value).then(u,o)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(N,"__esModule",{value:!0});N.summary=N.markdownSummary=N.SUMMARY_DOCS_URL=N.SUMMARY_ENV_VAR=void 0;var za=require("os"),Lt=require("fs"),{access:Ja,appendFile:Ya,writeFile:Ha}=Lt.promises;N.SUMMARY_ENV_VAR="GITHUB_STEP_SUMMARY";N.SUMMARY_DOCS_URL="https://docs.github.com/actions/using-workflows/workflow-commands-for-github-actions#adding-a-job-summary";var Bt=class{constructor(){this._buffer=""}filePath(){return Ut(this,void 0,void 0,function*(){if(this._filePath)return this._filePath;let t=process.env[N.SUMMARY_ENV_VAR];if(!t)throw new Error(`Unable to find environment variable for $${N.SUMMARY_ENV_VAR}. Check if your runtime environment supports job summaries.`);try{yield Ja(t,Lt.constants.R_OK|Lt.constants.W_OK)}catch{throw new Error(`Unable to access summary file: '${t}'. Check if the file has correct read/write permissions.`)}return this._filePath=t,this._filePath})}wrap(t,r,n={}){let i=Object.entries(n).map(([s,a])=>` ${s}="${a}"`).join("");return r?`<${t}${i}>${r}</${t}>`:`<${t}${i}>`}write(t){return Ut(this,void 0,void 0,function*(){let r=!!t?.overwrite,n=yield this.filePath();return yield(r?Ha:Ya)(n,this._buffer,{encoding:"utf8"}),this.emptyBuffer()})}clear(){return Ut(this,void 0,void 0,function*(){return this.emptyBuffer().write({overwrite:!0})})}stringify(){return this._buffer}isEmptyBuffer(){return this._buffer.length===0}emptyBuffer(){return this._buffer="",this}addRaw(t,r=!1){return this._buffer+=t,r?this.addEOL():this}addEOL(){return this.addRaw(za.EOL)}addCodeBlock(t,r){let n=Object.assign({},r&&{lang:r}),i=this.wrap("pre",this.wrap("code",t),n);return this.addRaw(i).addEOL()}addList(t,r=!1){let n=r?"ol":"ul",i=t.map(a=>this.wrap("li",a)).join(""),s=this.wrap(n,i);return this.addRaw(s).addEOL()}addTable(t){let r=t.map(i=>{let s=i.map(a=>{if(typeof a=="string")return this.wrap("td",a);let{header:u,data:o,colspan:c,rowspan:l}=a,h=u?"th":"td",f=Object.assign(Object.assign({},c&&{colspan:c}),l&&{rowspan:l});return this.wrap(h,o,f)}).join("");return this.wrap("tr",s)}).join(""),n=this.wrap("table",r);return this.addRaw(n).addEOL()}addDetails(t,r){let n=this.wrap("details",this.wrap("summary",t)+r);return this.addRaw(n).addEOL()}addImage(t,r,n){let{width:i,height:s}=n||{},a=Object.assign(Object.assign({},i&&{width:i}),s&&{height:s}),u=this.wrap("img",null,Object.assign({src:t,alt:r},a));return this.addRaw(u).addEOL()}addHeading(t,r){let n=`h${r}`,i=["h1","h2","h3","h4","h5","h6"].includes(n)?n:"h1",s=this.wrap(i,t);return this.addRaw(s).addEOL()}addSeparator(){let t=this.wrap("hr",null);return this.addRaw(t).addEOL()}addBreak(){let t=this.wrap("br",null);return this.addRaw(t).addEOL()}addQuote(t,r){let n=Object.assign({},r&&{cite:r}),i=this.wrap("blockquote",t,n);return this.addRaw(i).addEOL()}addLink(t,r){let n=this.wrap("a",t,{href:r});return this.addRaw(n).addEOL()}},wn=new Bt;N.markdownSummary=wn;N.summary=wn});var En=m(M=>{"use strict";var Qa=M&&M.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Xa=M&&M.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Za=M&&M.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&Qa(t,e,r);return Xa(t,e),t};Object.defineProperty(M,"__esModule",{value:!0});M.toPlatformPath=M.toWin32Path=M.toPosixPath=void 0;var eo=Za(require("path"));function to(e){return e.replace(/[\\]/g,"/")}M.toPosixPath=to;function ro(e){return e.replace(/[/]/g,"\\")}M.toWin32Path=ro;function no(e){return e.replace(/[/\\]/g,eo.sep)}M.toPlatformPath=no});var at=m(v=>{"use strict";var io=v&&v.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),so=v&&v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),bn=v&&v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.hasOwnProperty.call(e,r)&&io(t,e,r);return so(t,e),t},On=v&&v.__awaiter||function(e,t,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function u(l){try{c(n.next(l))}catch(h){a(h)}}function o(l){try{c(n.throw(l))}catch(h){a(h)}}function c(l){l.done?s(l.value):i(l.value).then(u,o)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(v,"__esModule",{value:!0});v.getIDToken=v.getState=v.saveState=v.group=v.endGroup=v.startGroup=v.info=v.notice=v.warning=v.error=v.debug=v.isDebug=v.setFailed=v.setCommandEcho=v.setOutput=v.getBooleanInput=v.getMultilineInput=v.getInput=v.addPath=v.setSecret=v.exportVariable=v.ExitCode=void 0;var L=Cr(),oe=sn(),_e=Be(),Sn=bn(require("os")),ao=bn(require("path")),oo=_n(),An;(function(e){e[e.Success=0]="Success",e[e.Failure=1]="Failure"})(An=v.ExitCode||(v.ExitCode={}));function uo(e,t){let r=_e.toCommandValue(t);if(process.env[e]=r,process.env.GITHUB_ENV||"")return oe.issueFileCommand("ENV",oe.prepareKeyValueMessage(e,t));L.issueCommand("set-env",{name:e},r)}v.exportVariable=uo;function co(e){L.issueCommand("add-mask",{},e)}v.setSecret=co;function lo(e){process.env.GITHUB_PATH||""?oe.issueFileCommand("PATH",e):L.issueCommand("add-path",{},e),process.env.PATH=`${e}${ao.delimiter}${process.env.PATH}`}v.addPath=lo;function Gt(e,t){let r=process.env[`INPUT_${e.replace(/ /g,"_").toUpperCase()}`]||"";if(t&&t.required&&!r)throw new Error(`Input required and not supplied: ${e}`);return t&&t.trimWhitespace===!1?r:r.trim()}v.getInput=Gt;function fo(e,t){let r=Gt(e,t).split(`
`).filter(n=>n!=="");return t&&t.trimWhitespace===!1?r:r.map(n=>n.trim())}v.getMultilineInput=fo;function ho(e,t){let r=["true","True","TRUE"],n=["false","False","FALSE"],i=Gt(e,t);if(r.includes(i))return!0;if(n.includes(i))return!1;throw new TypeError(`Input does not meet YAML 1.2 "Core Schema" specification: ${e}
Support boolean input list: \`true | True | TRUE | false | False | FALSE\``)}v.getBooleanInput=ho;function po(e,t){if(process.env.GITHUB_OUTPUT||"")return oe.issueFileCommand("OUTPUT",oe.prepareKeyValueMessage(e,t));process.stdout.write(Sn.EOL),L.issueCommand("set-output",{name:e},_e.toCommandValue(t))}v.setOutput=po;function vo(e){L.issue("echo",e?"on":"off")}v.setCommandEcho=vo;function mo(e){process.exitCode=An.Failure,Rn(e)}v.setFailed=mo;function go(){return process.env.RUNNER_DEBUG==="1"}v.isDebug=go;function yo(e){L.issueCommand("debug",{},e)}v.debug=yo;function Rn(e,t={}){L.issueCommand("error",_e.toCommandProperties(t),e instanceof Error?e.toString():e)}v.error=Rn;function _o(e,t={}){L.issueCommand("warning",_e.toCommandProperties(t),e instanceof Error?e.toString():e)}v.warning=_o;function wo(e,t={}){L.issueCommand("notice",_e.toCommandProperties(t),e instanceof Error?e.toString():e)}v.notice=wo;function Eo(e){process.stdout.write(e+Sn.EOL)}v.info=Eo;function Tn(e){L.issue("group",e)}v.startGroup=Tn;function kn(){L.issue("endgroup")}v.endGroup=kn;function bo(e,t){return On(this,void 0,void 0,function*(){Tn(e);let r;try{r=yield t()}finally{kn()}return r})}v.group=bo;function Oo(e,t){if(process.env.GITHUB_STATE||"")return oe.issueFileCommand("STATE",oe.prepareKeyValueMessage(e,t));L.issueCommand("save-state",{name:e},_e.toCommandValue(t))}v.saveState=Oo;function So(e){return process.env[`STATE_${e}`]||""}v.getState=So;function Ao(e){return On(this,void 0,void 0,function*(){return yield oo.OidcClient.getIDToken(e)})}v.getIDToken=Ao;var Ro=$t();Object.defineProperty(v,"summary",{enumerable:!0,get:function(){return Ro.summary}});var To=$t();Object.defineProperty(v,"markdownSummary",{enumerable:!0,get:function(){return To.markdownSummary}});var Ft=En();Object.defineProperty(v,"toPosixPath",{enumerable:!0,get:function(){return Ft.toPosixPath}});Object.defineProperty(v,"toWin32Path",{enumerable:!0,get:function(){return Ft.toWin32Path}});Object.defineProperty(v,"toPlatformPath",{enumerable:!0,get:function(){return Ft.toPlatformPath}})});var xn=m(Vt=>{var ue=require("path"),re=process.platform==="win32",te=require("fs"),ko=process.env.NODE_DEBUG&&/fs/.test(process.env.NODE_DEBUG);function Po(){var e;if(ko){var t=new Error;e=r}else e=n;return e;function r(i){i&&(t.message=i.message,i=t,n(i))}function n(i){if(i){if(process.throwDeprecation)throw i;if(!process.noDeprecation){var s="fs: missing callback "+(i.stack||i.message);process.traceDeprecation?console.trace(s):console.error(s)}}}}function qo(e){return typeof e=="function"?e:Po()}var Sc=ue.normalize;re?Y=/(.*?)(?:[\/\\]+|$)/g:Y=/(.*?)(?:[\/]+|$)/g;var Y;re?De=/^(?:[a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/][^\\\/]+)?[\\\/]*/:De=/^[\/]*/;var De;Vt.realpathSync=function(t,r){if(t=ue.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return r[t];var n=t,i={},s={},a,u,o,c;l();function l(){var y=De.exec(t);a=y[0].length,u=y[0],o=y[0],c="",re&&!s[o]&&(te.lstatSync(o),s[o]=!0)}for(;a<t.length;){Y.lastIndex=a;var h=Y.exec(t);if(c=u,u+=h[0],o=c+h[1],a=Y.lastIndex,!(s[o]||r&&r[o]===o)){var f;if(r&&Object.prototype.hasOwnProperty.call(r,o))f=r[o];else{var d=te.lstatSync(o);if(!d.isSymbolicLink()){s[o]=!0,r&&(r[o]=o);continue}var p=null;if(!re){var g=d.dev.toString(32)+":"+d.ino.toString(32);i.hasOwnProperty(g)&&(p=i[g])}p===null&&(te.statSync(o),p=te.readlinkSync(o)),f=ue.resolve(c,p),r&&(r[o]=f),re||(i[g]=p)}t=ue.resolve(f,t.slice(a)),l()}}return r&&(r[n]=t),t};Vt.realpath=function(t,r,n){if(typeof n!="function"&&(n=qo(r),r=null),t=ue.resolve(t),r&&Object.prototype.hasOwnProperty.call(r,t))return process.nextTick(n.bind(null,null,r[t]));var i=t,s={},a={},u,o,c,l;h();function h(){var y=De.exec(t);u=y[0].length,o=y[0],c=y[0],l="",re&&!a[c]?te.lstat(c,function(w){if(w)return n(w);a[c]=!0,f()}):process.nextTick(f)}function f(){if(u>=t.length)return r&&(r[i]=t),n(null,t);Y.lastIndex=u;var y=Y.exec(t);return l=o,o+=y[0],c=l+y[1],u=Y.lastIndex,a[c]||r&&r[c]===c?process.nextTick(f):r&&Object.prototype.hasOwnProperty.call(r,c)?g(r[c]):te.lstat(c,d)}function d(y,w){if(y)return n(y);if(!w.isSymbolicLink())return a[c]=!0,r&&(r[c]=c),process.nextTick(f);if(!re){var O=w.dev.toString(32)+":"+w.ino.toString(32);if(s.hasOwnProperty(O))return p(null,s[O],c)}te.stat(c,function(D){if(D)return n(D);te.readlink(c,function(R,$){re||(s[O]=$),p(R,$)})})}function p(y,w,O){if(y)return n(y);var D=ue.resolve(l,w);r&&(r[O]=D),g(D)}function g(y){t=ue.resolve(y,t.slice(u)),h()}}});var Jt=m((Rc,Cn)=>{Cn.exports=ne;ne.realpath=ne;ne.sync=zt;ne.realpathSync=zt;ne.monkeypatch=xo;ne.unmonkeypatch=No;var we=require("fs"),Kt=we.realpath,Wt=we.realpathSync,Do=process.version,Nn=/^v[0-5]\./.test(Do),Mn=xn();function In(e){return e&&e.syscall==="realpath"&&(e.code==="ELOOP"||e.code==="ENOMEM"||e.code==="ENAMETOOLONG")}function ne(e,t,r){if(Nn)return Kt(e,t,r);typeof t=="function"&&(r=t,t=null),Kt(e,t,function(n,i){In(n)?Mn.realpath(e,t,r):r(n,i)})}function zt(e,t){if(Nn)return Wt(e,t);try{return Wt(e,t)}catch(r){if(In(r))return Mn.realpathSync(e,t);throw r}}function xo(){we.realpath=ne,we.realpathSync=zt}function No(){we.realpath=Kt,we.realpathSync=Wt}});var Un=m((Tc,jn)=>{jn.exports=function(e,t){for(var r=[],n=0;n<e.length;n++){var i=t(e[n],n);Mo(i)?r.push.apply(r,i):r.push(i)}return r};var Mo=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}});var Fn=m((kc,Gn)=>{"use strict";Gn.exports=Bn;function Bn(e,t,r){e instanceof RegExp&&(e=Ln(e,r)),t instanceof RegExp&&(t=Ln(t,r));var n=$n(e,t,r);return n&&{start:n[0],end:n[1],pre:r.slice(0,n[0]),body:r.slice(n[0]+e.length,n[1]),post:r.slice(n[1]+t.length)}}function Ln(e,t){var r=t.match(e);return r?r[0]:null}Bn.range=$n;function $n(e,t,r){var n,i,s,a,u,o=r.indexOf(e),c=r.indexOf(t,o+1),l=o;if(o>=0&&c>0){if(e===t)return[o,c];for(n=[],s=r.length;l>=0&&!u;)l==o?(n.push(l),o=r.indexOf(e,l+1)):n.length==1?u=[n.pop(),c]:(i=n.pop(),i<s&&(s=i,a=c),c=r.indexOf(t,l+1)),l=o<c&&o>=0?o:c;n.length&&(u=[s,a])}return u}});var Qn=m((Pc,Hn)=>{var Io=Un(),Vn=Fn();Hn.exports=Uo;var Kn="\0SLASH"+Math.random()+"\0",Wn="\0OPEN"+Math.random()+"\0",Ht="\0CLOSE"+Math.random()+"\0",zn="\0COMMA"+Math.random()+"\0",Jn="\0PERIOD"+Math.random()+"\0";function Yt(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function Co(e){return e.split("\\\\").join(Kn).split("\\{").join(Wn).split("\\}").join(Ht).split("\\,").join(zn).split("\\.").join(Jn)}function jo(e){return e.split(Kn).join("\\").split(Wn).join("{").split(Ht).join("}").split(zn).join(",").split(Jn).join(".")}function Yn(e){if(!e)return[""];var t=[],r=Vn("{","}",e);if(!r)return e.split(",");var n=r.pre,i=r.body,s=r.post,a=n.split(",");a[a.length-1]+="{"+i+"}";var u=Yn(s);return s.length&&(a[a.length-1]+=u.shift(),a.push.apply(a,u)),t.push.apply(t,a),t}function Uo(e){return e?(e.substr(0,2)==="{}"&&(e="\\{\\}"+e.substr(2)),Ee(Co(e),!0).map(jo)):[]}function Lo(e){return"{"+e+"}"}function Bo(e){return/^-?0\d/.test(e)}function $o(e,t){return e<=t}function Go(e,t){return e>=t}function Ee(e,t){var r=[],n=Vn("{","}",e);if(!n||/\$$/.test(n.pre))return[e];var i=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(n.body),s=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(n.body),a=i||s,u=n.body.indexOf(",")>=0;if(!a&&!u)return n.post.match(/,.*\}/)?(e=n.pre+"{"+n.body+Ht+n.post,Ee(e)):[e];var o;if(a)o=n.body.split(/\.\./);else if(o=Yn(n.body),o.length===1&&(o=Ee(o[0],!1).map(Lo),o.length===1)){var l=n.post.length?Ee(n.post,!1):[""];return l.map(function(gt){return n.pre+o[0]+gt})}var c=n.pre,l=n.post.length?Ee(n.post,!1):[""],h;if(a){var f=Yt(o[0]),d=Yt(o[1]),p=Math.max(o[0].length,o[1].length),g=o.length==3?Math.abs(Yt(o[2])):1,y=$o,w=d<f;w&&(g*=-1,y=Go);var O=o.some(Bo);h=[];for(var D=f;y(D,d);D+=g){var R;if(s)R=String.fromCharCode(D),R==="\\"&&(R="");else if(R=String(D),O){var $=p-R.length;if($>0){var je=new Array($+1).join("0");D<0?R="-"+je+R.slice(1):R=je+R}}h.push(R)}}else h=Io(o,function(Ue){return Ee(Ue,!1)});for(var de=0;de<h.length;de++)for(var se=0;se<l.length;se++){var W=c+h[de]+l[se];(!t||a||W)&&r.push(W)}return r}});var ut=m((qc,ni)=>{ni.exports=B;B.Minimatch=T;var xe={sep:"/"};try{xe=require("path")}catch{}var Zt=B.GLOBSTAR=T.GLOBSTAR={},Fo=Qn(),Xn={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},Qt="[^/]",Xt=Qt+"*?",Vo="(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?",Ko="(?:(?!(?:\\/|^)\\.).)*?",Zn=Wo("().*{}+?[]^$\\!");function Wo(e){return e.split("").reduce(function(t,r){return t[r]=!0,t},{})}var ti=/\/+/;B.filter=zo;function zo(e,t){return t=t||{},function(r,n,i){return B(r,e,t)}}function ei(e,t){e=e||{},t=t||{};var r={};return Object.keys(t).forEach(function(n){r[n]=t[n]}),Object.keys(e).forEach(function(n){r[n]=e[n]}),r}B.defaults=function(e){if(!e||!Object.keys(e).length)return B;var t=B,r=function(i,s,a){return t.minimatch(i,s,ei(e,a))};return r.Minimatch=function(i,s){return new t.Minimatch(i,ei(e,s))},r};T.defaults=function(e){return!e||!Object.keys(e).length?T:B.defaults(e).Minimatch};function B(e,t,r){if(typeof t!="string")throw new TypeError("glob pattern string required");return r||(r={}),!r.nocomment&&t.charAt(0)==="#"?!1:t.trim()===""?e==="":new T(t,r).match(e)}function T(e,t){if(!(this instanceof T))return new T(e,t);if(typeof e!="string")throw new TypeError("glob pattern string required");t||(t={}),e=e.trim(),xe.sep!=="/"&&(e=e.split(xe.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.make()}T.prototype.debug=function(){};T.prototype.make=Jo;function Jo(){if(!this._made){var e=this.pattern,t=this.options;if(!t.nocomment&&e.charAt(0)==="#"){this.comment=!0;return}if(!e){this.empty=!0;return}this.parseNegate();var r=this.globSet=this.braceExpand();t.debug&&(this.debug=console.error),this.debug(this.pattern,r),r=this.globParts=r.map(function(n){return n.split(ti)}),this.debug(this.pattern,r),r=r.map(function(n,i,s){return n.map(this.parse,this)},this),this.debug(this.pattern,r),r=r.filter(function(n){return n.indexOf(!1)===-1}),this.debug(this.pattern,r),this.set=r}}T.prototype.parseNegate=Yo;function Yo(){var e=this.pattern,t=!1,r=this.options,n=0;if(!r.nonegate){for(var i=0,s=e.length;i<s&&e.charAt(i)==="!";i++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}}B.braceExpand=function(e,t){return ri(e,t)};T.prototype.braceExpand=ri;function ri(e,t){if(t||(this instanceof T?t=this.options:t={}),e=typeof e>"u"?this.pattern:e,typeof e>"u")throw new TypeError("undefined pattern");return t.nobrace||!e.match(/\{.*\}/)?[e]:Fo(e)}T.prototype.parse=Ho;var ot={};function Ho(e,t){if(e.length>1024*64)throw new TypeError("pattern is too long");var r=this.options;if(!r.noglobstar&&e==="**")return Zt;if(e==="")return"";var n="",i=!!r.nocase,s=!1,a=[],u=[],o,c=!1,l=-1,h=-1,f=e.charAt(0)==="."?"":r.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",d=this;function p(){if(o){switch(o){case"*":n+=Xt,i=!0;break;case"?":n+=Qt,i=!0;break;default:n+="\\"+o;break}d.debug("clearStateChar %j %j",o,n),o=!1}}for(var g=0,y=e.length,w;g<y&&(w=e.charAt(g));g++){if(this.debug("%s	%s %s %j",e,g,n,w),s&&Zn[w]){n+="\\"+w,s=!1;continue}switch(w){case"/":return!1;case"\\":p(),s=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s	%s %s %j <-- stateChar",e,g,n,w),c){this.debug("  in class"),w==="!"&&g===h+1&&(w="^"),n+=w;continue}d.debug("call clearStateChar %j",o),p(),o=w,r.noext&&p();continue;case"(":if(c){n+="(";continue}if(!o){n+="\\(";continue}a.push({type:o,start:g-1,reStart:n.length,open:Xn[o].open,close:Xn[o].close}),n+=o==="!"?"(?:(?!(?:":"(?:",this.debug("plType %j %j",o,n),o=!1;continue;case")":if(c||!a.length){n+="\\)";continue}p(),i=!0;var O=a.pop();n+=O.close,O.type==="!"&&u.push(O),O.reEnd=n.length;continue;case"|":if(c||!a.length||s){n+="\\|",s=!1;continue}p(),n+="|";continue;case"[":if(p(),c){n+="\\"+w;continue}c=!0,h=g,l=n.length,n+=w;continue;case"]":if(g===h+1||!c){n+="\\"+w,s=!1;continue}if(c){var D=e.substring(h+1,g);try{RegExp("["+D+"]")}catch{var R=this.parse(D,ot);n=n.substr(0,l)+"\\["+R[0]+"\\]",i=i||R[1],c=!1;continue}}i=!0,c=!1,n+=w;continue;default:p(),s?s=!1:Zn[w]&&!(w==="^"&&c)&&(n+="\\"),n+=w}}for(c&&(D=e.substr(h+1),R=this.parse(D,ot),n=n.substr(0,l)+"\\["+R[0],i=i||R[1]),O=a.pop();O;O=a.pop()){var $=n.slice(O.reStart+O.open.length);this.debug("setting tail",n,O),$=$.replace(/((?:\\{2}){0,64})(\\?)\|/g,function(qr,Dr,wt){return wt||(wt="\\"),Dr+Dr+wt+"|"}),this.debug(`tail=%j
   %s`,$,$,O,n);var je=O.type==="*"?Xt:O.type==="?"?Qt:"\\"+O.type;i=!0,n=n.slice(0,O.reStart)+je+"\\("+$}p(),s&&(n+="\\\\");var de=!1;switch(n.charAt(0)){case".":case"[":case"(":de=!0}for(var se=u.length-1;se>-1;se--){var W=u[se],Ue=n.slice(0,W.reStart),gt=n.slice(W.reStart,W.reEnd-8),kr=n.slice(W.reEnd-8,W.reEnd),ke=n.slice(W.reEnd);kr+=ke;var ts=Ue.split("(").length-1,yt=ke;for(g=0;g<ts;g++)yt=yt.replace(/\)[+*?]?/,"");ke=yt;var Pr="";ke===""&&t!==ot&&(Pr="$");var rs=Ue+gt+ke+Pr+kr;n=rs}if(n!==""&&i&&(n="(?=.)"+n),de&&(n=f+n),t===ot)return[n,i];if(!i)return Zo(e);var ns=r.nocase?"i":"";try{var _t=new RegExp("^"+n+"$",ns)}catch{return new RegExp("$.")}return _t._glob=e,_t._src=n,_t}B.makeRe=function(e,t){return new T(e,t||{}).makeRe()};T.prototype.makeRe=Qo;function Qo(){if(this.regexp||this.regexp===!1)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,r=t.noglobstar?Xt:t.dot?Vo:Ko,n=t.nocase?"i":"",i=e.map(function(s){return s.map(function(a){return a===Zt?r:typeof a=="string"?eu(a):a._src}).join("\\/")}).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,n)}catch{this.regexp=!1}return this.regexp}B.match=function(e,t,r){r=r||{};var n=new T(t,r);return e=e.filter(function(i){return n.match(i)}),n.options.nonull&&!e.length&&e.push(t),e};T.prototype.match=Xo;function Xo(e,t){if(this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return e==="";if(e==="/"&&t)return!0;var r=this.options;xe.sep!=="/"&&(e=e.split(xe.sep).join("/")),e=e.split(ti),this.debug(this.pattern,"split",e);var n=this.set;this.debug(this.pattern,"set",n);var i,s;for(s=e.length-1;s>=0&&(i=e[s],!i);s--);for(s=0;s<n.length;s++){var a=n[s],u=e;r.matchBase&&a.length===1&&(u=[i]);var o=this.matchOne(u,a,t);if(o)return r.flipNegate?!0:!this.negate}return r.flipNegate?!1:this.negate}T.prototype.matchOne=function(e,t,r){var n=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,u=t.length;i<a&&s<u;i++,s++){this.debug("matchOne loop");var o=t[s],c=e[i];if(this.debug(t,o,c),o===!1)return!1;if(o===Zt){this.debug("GLOBSTAR",[t,o,c]);var l=i,h=s+1;if(h===u){for(this.debug("** at the end");i<a;i++)if(e[i]==="."||e[i]===".."||!n.dot&&e[i].charAt(0)===".")return!1;return!0}for(;l<a;){var f=e[l];if(this.debug(`
globstar while`,e,l,t,h,f),this.matchOne(e.slice(l),t.slice(h),r))return this.debug("globstar found match!",l,a,f),!0;if(f==="."||f===".."||!n.dot&&f.charAt(0)==="."){this.debug("dot detected!",e,l,t,h);break}this.debug("globstar swallow a segment, and continue"),l++}return!!(r&&(this.debug(`
>>> no match, partial?`,e,l,t,h),l===a))}var d;if(typeof o=="string"?(n.nocase?d=c.toLowerCase()===o.toLowerCase():d=c===o,this.debug("string match",o,c,d)):(d=c.match(o),this.debug("pattern match",o,c,d)),!d)return!1}if(i===a&&s===u)return!0;if(i===a)return r;if(s===u){var p=i===a-1&&e[i]==="";return p}throw new Error("wtf?")};function Zo(e){return e.replace(/\\(.)/g,"$1")}function eu(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}});var ii=m((Dc,er)=>{typeof Object.create=="function"?er.exports=function(t,r){r&&(t.super_=r,t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}))}:er.exports=function(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype,t.prototype=new n,t.prototype.constructor=t}}});var si=m((xc,rr)=>{try{if(tr=require("util"),typeof tr.inherits!="function")throw"";rr.exports=tr.inherits}catch{rr.exports=ii()}var tr});var lt=m((Nc,ct)=>{"use strict";function ai(e){return e.charAt(0)==="/"}function oi(e){var t=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,r=t.exec(e),n=r[1]||"",i=Boolean(n&&n.charAt(1)!==":");return Boolean(r[2]||i)}ct.exports=process.platform==="win32"?oi:ai;ct.exports.posix=ai;ct.exports.win32=oi});var ir=m(ie=>{ie.setopts=au;ie.ownProp=ui;ie.makeAbs=Ne;ie.finish=ou;ie.mark=uu;ie.isIgnored=li;ie.childrenIgnored=cu;function ui(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var tu=require("fs"),be=require("path"),ru=ut(),ci=lt(),nr=ru.Minimatch;function nu(e,t){return e.localeCompare(t,"en")}function iu(e,t){e.ignore=t.ignore||[],Array.isArray(e.ignore)||(e.ignore=[e.ignore]),e.ignore.length&&(e.ignore=e.ignore.map(su))}function su(e){var t=null;if(e.slice(-3)==="/**"){var r=e.replace(/(\/\*\*)+$/,"");t=new nr(r,{dot:!0})}return{matcher:new nr(e,{dot:!0}),gmatcher:t}}function au(e,t,r){if(r||(r={}),r.matchBase&&t.indexOf("/")===-1){if(r.noglobstar)throw new Error("base matching requires globstar");t="**/"+t}e.silent=!!r.silent,e.pattern=t,e.strict=r.strict!==!1,e.realpath=!!r.realpath,e.realpathCache=r.realpathCache||Object.create(null),e.follow=!!r.follow,e.dot=!!r.dot,e.mark=!!r.mark,e.nodir=!!r.nodir,e.nodir&&(e.mark=!0),e.sync=!!r.sync,e.nounique=!!r.nounique,e.nonull=!!r.nonull,e.nosort=!!r.nosort,e.nocase=!!r.nocase,e.stat=!!r.stat,e.noprocess=!!r.noprocess,e.absolute=!!r.absolute,e.fs=r.fs||tu,e.maxLength=r.maxLength||1/0,e.cache=r.cache||Object.create(null),e.statCache=r.statCache||Object.create(null),e.symlinks=r.symlinks||Object.create(null),iu(e,r),e.changedCwd=!1;var n=process.cwd();ui(r,"cwd")?(e.cwd=be.resolve(r.cwd),e.changedCwd=e.cwd!==n):e.cwd=n,e.root=r.root||be.resolve(e.cwd,"/"),e.root=be.resolve(e.root),process.platform==="win32"&&(e.root=e.root.replace(/\\/g,"/")),e.cwdAbs=ci(e.cwd)?e.cwd:Ne(e,e.cwd),process.platform==="win32"&&(e.cwdAbs=e.cwdAbs.replace(/\\/g,"/")),e.nomount=!!r.nomount,r.nonegate=!0,r.nocomment=!0,e.minimatch=new nr(t,r),e.options=e.minimatch.options}function ou(e){for(var t=e.nounique,r=t?[]:Object.create(null),n=0,i=e.matches.length;n<i;n++){var s=e.matches[n];if(!s||Object.keys(s).length===0){if(e.nonull){var a=e.minimatch.globSet[n];t?r.push(a):r[a]=!0}}else{var u=Object.keys(s);t?r.push.apply(r,u):u.forEach(function(o){r[o]=!0})}}if(t||(r=Object.keys(r)),e.nosort||(r=r.sort(nu)),e.mark){for(var n=0;n<r.length;n++)r[n]=e._mark(r[n]);e.nodir&&(r=r.filter(function(o){var c=!/\/$/.test(o),l=e.cache[o]||e.cache[Ne(e,o)];return c&&l&&(c=l!=="DIR"&&!Array.isArray(l)),c}))}e.ignore.length&&(r=r.filter(function(o){return!li(e,o)})),e.found=r}function uu(e,t){var r=Ne(e,t),n=e.cache[r],i=t;if(n){var s=n==="DIR"||Array.isArray(n),a=t.slice(-1)==="/";if(s&&!a?i+="/":!s&&a&&(i=i.slice(0,-1)),i!==t){var u=Ne(e,i);e.statCache[u]=e.statCache[r],e.cache[u]=e.cache[r]}}return i}function Ne(e,t){var r=t;return t.charAt(0)==="/"?r=be.join(e.root,t):ci(t)||t===""?r=t:e.changedCwd?r=be.resolve(e.cwd,t):r=be.resolve(t),process.platform==="win32"&&(r=r.replace(/\\/g,"/")),r}function li(e,t){return e.ignore.length?e.ignore.some(function(r){return r.matcher.match(t)||!!(r.gmatcher&&r.gmatcher.match(t))}):!1}function cu(e,t){return e.ignore.length?e.ignore.some(function(r){return!!(r.gmatcher&&r.gmatcher.match(t))}):!1}});var vi=m((Uc,pi)=>{pi.exports=di;di.GlobSync=A;var lu=Jt(),fi=ut(),Ic=fi.Minimatch,Cc=or().Glob,jc=require("util"),sr=require("path"),hi=require("assert"),ft=lt(),ce=ir(),fu=ce.setopts,ar=ce.ownProp,hu=ce.childrenIgnored,du=ce.isIgnored;function di(e,t){if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);return new A(e,t).found}function A(e,t){if(!e)throw new Error("must provide pattern");if(typeof t=="function"||arguments.length===3)throw new TypeError(`callback provided to sync glob
See: https://github.com/isaacs/node-glob/issues/167`);if(!(this instanceof A))return new A(e,t);if(fu(this,e,t),this.noprocess)return this;var r=this.minimatch.set.length;this.matches=new Array(r);for(var n=0;n<r;n++)this._process(this.minimatch.set[n],n,!1);this._finish()}A.prototype._finish=function(){if(hi(this instanceof A),this.realpath){var e=this;this.matches.forEach(function(t,r){var n=e.matches[r]=Object.create(null);for(var i in t)try{i=e._makeAbs(i);var s=lu.realpathSync(i,e.realpathCache);n[s]=!0}catch(a){if(a.syscall==="stat")n[e._makeAbs(i)]=!0;else throw a}})}ce.finish(this)};A.prototype._process=function(e,t,r){hi(this instanceof A);for(var n=0;typeof e[n]=="string";)n++;var i;switch(n){case e.length:this._processSimple(e.join("/"),t);return;case 0:i=null;break;default:i=e.slice(0,n).join("/");break}var s=e.slice(n),a;i===null?a=".":((ft(i)||ft(e.join("/")))&&(!i||!ft(i))&&(i="/"+i),a=i);var u=this._makeAbs(a);if(!hu(this,a)){var o=s[0]===fi.GLOBSTAR;o?this._processGlobStar(i,a,u,s,t,r):this._processReaddir(i,a,u,s,t,r)}};A.prototype._processReaddir=function(e,t,r,n,i,s){var a=this._readdir(r,s);if(!!a){for(var u=n[0],o=!!this.minimatch.negate,c=u._glob,l=this.dot||c.charAt(0)===".",h=[],f=0;f<a.length;f++){var d=a[f];if(d.charAt(0)!=="."||l){var p;o&&!e?p=!d.match(u):p=d.match(u),p&&h.push(d)}}var g=h.length;if(g!==0){if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var f=0;f<g;f++){var d=h[f];e&&(e.slice(-1)!=="/"?d=e+"/"+d:d=e+d),d.charAt(0)==="/"&&!this.nomount&&(d=sr.join(this.root,d)),this._emitMatch(i,d)}return}n.shift();for(var f=0;f<g;f++){var d=h[f],y;e?y=[e,d]:y=[d],this._process(y.concat(n),i,s)}}}};A.prototype._emitMatch=function(e,t){if(!du(this,t)){var r=this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0,this.stat&&this._stat(t)}}};A.prototype._readdirInGlobStar=function(e){if(this.follow)return this._readdir(e,!1);var t,r,n;try{r=this.fs.lstatSync(e)}catch(s){if(s.code==="ENOENT")return null}var i=r&&r.isSymbolicLink();return this.symlinks[e]=i,!i&&r&&!r.isDirectory()?this.cache[e]="FILE":t=this._readdir(e,!1),t};A.prototype._readdir=function(e,t){var r;if(t&&!ar(this.symlinks,e))return this._readdirInGlobStar(e);if(ar(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return null;if(Array.isArray(n))return n}try{return this._readdirEntries(e,this.fs.readdirSync(e))}catch(i){return this._readdirError(e,i),null}};A.prototype._readdirEntries=function(e,t){if(!this.mark&&!this.stat)for(var r=0;r<t.length;r++){var n=t[r];e==="/"?n=e+n:n=e+"/"+n,this.cache[n]=!0}return this.cache[e]=t,t};A.prototype._readdirError=function(e,t){switch(t.code){case"ENOTSUP":case"ENOTDIR":var r=this._makeAbs(e);if(this.cache[r]="FILE",r===this.cwdAbs){var n=new Error(t.code+" invalid cwd "+this.cwd);throw n.path=this.cwd,n.code=t.code,n}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:if(this.cache[this._makeAbs(e)]=!1,this.strict)throw t;this.silent||console.error("glob error",t);break}};A.prototype._processGlobStar=function(e,t,r,n,i,s){var a=this._readdir(r,s);if(!!a){var u=n.slice(1),o=e?[e]:[],c=o.concat(u);this._process(c,i,!1);var l=a.length,h=this.symlinks[r];if(!(h&&s))for(var f=0;f<l;f++){var d=a[f];if(!(d.charAt(0)==="."&&!this.dot)){var p=o.concat(a[f],u);this._process(p,i,!0);var g=o.concat(a[f],n);this._process(g,i,!0)}}}};A.prototype._processSimple=function(e,t){var r=this._stat(e);if(this.matches[t]||(this.matches[t]=Object.create(null)),!!r){if(e&&ft(e)&&!this.nomount){var n=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=sr.join(this.root,e):(e=sr.resolve(this.root,e),n&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e)}};A.prototype._stat=function(e){var t=this._makeAbs(e),r=e.slice(-1)==="/";if(e.length>this.maxLength)return!1;if(!this.stat&&ar(this.cache,t)){var a=this.cache[t];if(Array.isArray(a)&&(a="DIR"),!r||a==="DIR")return a;if(r&&a==="FILE")return!1}var n,i=this.statCache[t];if(!i){var s;try{s=this.fs.lstatSync(t)}catch(u){if(u&&(u.code==="ENOENT"||u.code==="ENOTDIR"))return this.statCache[t]=!1,!1}if(s&&s.isSymbolicLink())try{i=this.fs.statSync(t)}catch{i=s}else i=s}this.statCache[t]=i;var a=!0;return i&&(a=i.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,r&&a==="FILE"?!1:a};A.prototype._mark=function(e){return ce.mark(this,e)};A.prototype._makeAbs=function(e){return ce.makeAbs(this,e)}});var ur=m((Lc,gi)=>{gi.exports=mi;function mi(e,t){if(e&&t)return mi(e)(t);if(typeof e!="function")throw new TypeError("need wrapper function");return Object.keys(e).forEach(function(n){r[n]=e[n]}),r;function r(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var s=e.apply(this,n),a=n[n.length-1];return typeof s=="function"&&s!==a&&Object.keys(a).forEach(function(u){s[u]=a[u]}),s}}});var lr=m((Bc,cr)=>{var yi=ur();cr.exports=yi(ht);cr.exports.strict=yi(_i);ht.proto=ht(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return ht(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return _i(this)},configurable:!0})});function ht(e){var t=function(){return t.called?t.value:(t.called=!0,t.value=e.apply(this,arguments))};return t.called=!1,t}function _i(e){var t=function(){if(t.called)throw new Error(t.onceError);return t.called=!0,t.value=e.apply(this,arguments)},r=e.name||"Function wrapped with `once`";return t.onceError=r+" shouldn't be called more than once",t.called=!1,t}});var Ei=m(($c,wi)=>{var pu=ur(),Me=Object.create(null),vu=lr();wi.exports=pu(mu);function mu(e,t){return Me[e]?(Me[e].push(t),null):(Me[e]=[t],gu(e))}function gu(e){return vu(function t(){var r=Me[e],n=r.length,i=yu(arguments);try{for(var s=0;s<n;s++)r[s].apply(null,i)}finally{r.length>n?(r.splice(0,n),process.nextTick(function(){t.apply(null,i)})):delete Me[e]}})}function yu(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n]=e[n];return r}});var or=m((Vc,Oi)=>{Oi.exports=le;var _u=Jt(),bi=ut(),Gc=bi.Minimatch,wu=si(),Eu=require("events").EventEmitter,fr=require("path"),hr=require("assert"),Ie=lt(),pr=vi(),fe=ir(),bu=fe.setopts,dr=fe.ownProp,vr=Ei(),Fc=require("util"),Ou=fe.childrenIgnored,Su=fe.isIgnored,Au=lr();function le(e,t,r){if(typeof t=="function"&&(r=t,t={}),t||(t={}),t.sync){if(r)throw new TypeError("callback provided to sync glob");return pr(e,t)}return new _(e,t,r)}le.sync=pr;var Ru=le.GlobSync=pr.GlobSync;le.glob=le;function Tu(e,t){if(t===null||typeof t!="object")return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}le.hasMagic=function(e,t){var r=Tu({},t);r.noprocess=!0;var n=new _(e,r),i=n.minimatch.set;if(!e)return!1;if(i.length>1)return!0;for(var s=0;s<i[0].length;s++)if(typeof i[0][s]!="string")return!0;return!1};le.Glob=_;wu(_,Eu);function _(e,t,r){if(typeof t=="function"&&(r=t,t=null),t&&t.sync){if(r)throw new TypeError("callback provided to sync glob");return new Ru(e,t)}if(!(this instanceof _))return new _(e,t,r);bu(this,e,t),this._didRealPath=!1;var n=this.minimatch.set.length;this.matches=new Array(n),typeof r=="function"&&(r=Au(r),this.on("error",r),this.on("end",function(o){r(null,o)}));var i=this;if(this._processing=0,this._emitQueue=[],this._processQueue=[],this.paused=!1,this.noprocess)return this;if(n===0)return u();for(var s=!0,a=0;a<n;a++)this._process(this.minimatch.set[a],a,!1,u);s=!1;function u(){--i._processing,i._processing<=0&&(s?process.nextTick(function(){i._finish()}):i._finish())}}_.prototype._finish=function(){if(hr(this instanceof _),!this.aborted){if(this.realpath&&!this._didRealpath)return this._realpath();fe.finish(this),this.emit("end",this.found)}};_.prototype._realpath=function(){if(this._didRealpath)return;this._didRealpath=!0;var e=this.matches.length;if(e===0)return this._finish();for(var t=this,r=0;r<this.matches.length;r++)this._realpathSet(r,n);function n(){--e===0&&t._finish()}};_.prototype._realpathSet=function(e,t){var r=this.matches[e];if(!r)return t();var n=Object.keys(r),i=this,s=n.length;if(s===0)return t();var a=this.matches[e]=Object.create(null);n.forEach(function(u,o){u=i._makeAbs(u),_u.realpath(u,i.realpathCache,function(c,l){c?c.syscall==="stat"?a[u]=!0:i.emit("error",c):a[l]=!0,--s===0&&(i.matches[e]=a,t())})})};_.prototype._mark=function(e){return fe.mark(this,e)};_.prototype._makeAbs=function(e){return fe.makeAbs(this,e)};_.prototype.abort=function(){this.aborted=!0,this.emit("abort")};_.prototype.pause=function(){this.paused||(this.paused=!0,this.emit("pause"))};_.prototype.resume=function(){if(this.paused){if(this.emit("resume"),this.paused=!1,this._emitQueue.length){var e=this._emitQueue.slice(0);this._emitQueue.length=0;for(var t=0;t<e.length;t++){var r=e[t];this._emitMatch(r[0],r[1])}}if(this._processQueue.length){var n=this._processQueue.slice(0);this._processQueue.length=0;for(var t=0;t<n.length;t++){var i=n[t];this._processing--,this._process(i[0],i[1],i[2],i[3])}}}};_.prototype._process=function(e,t,r,n){if(hr(this instanceof _),hr(typeof n=="function"),!this.aborted){if(this._processing++,this.paused){this._processQueue.push([e,t,r,n]);return}for(var i=0;typeof e[i]=="string";)i++;var s;switch(i){case e.length:this._processSimple(e.join("/"),t,n);return;case 0:s=null;break;default:s=e.slice(0,i).join("/");break}var a=e.slice(i),u;s===null?u=".":((Ie(s)||Ie(e.join("/")))&&(!s||!Ie(s))&&(s="/"+s),u=s);var o=this._makeAbs(u);if(Ou(this,u))return n();var c=a[0]===bi.GLOBSTAR;c?this._processGlobStar(s,u,o,a,t,r,n):this._processReaddir(s,u,o,a,t,r,n)}};_.prototype._processReaddir=function(e,t,r,n,i,s,a){var u=this;this._readdir(r,s,function(o,c){return u._processReaddir2(e,t,r,n,i,s,c,a)})};_.prototype._processReaddir2=function(e,t,r,n,i,s,a,u){if(!a)return u();for(var o=n[0],c=!!this.minimatch.negate,l=o._glob,h=this.dot||l.charAt(0)===".",f=[],d=0;d<a.length;d++){var p=a[d];if(p.charAt(0)!=="."||h){var g;c&&!e?g=!p.match(o):g=p.match(o),g&&f.push(p)}}var y=f.length;if(y===0)return u();if(n.length===1&&!this.mark&&!this.stat){this.matches[i]||(this.matches[i]=Object.create(null));for(var d=0;d<y;d++){var p=f[d];e&&(e!=="/"?p=e+"/"+p:p=e+p),p.charAt(0)==="/"&&!this.nomount&&(p=fr.join(this.root,p)),this._emitMatch(i,p)}return u()}n.shift();for(var d=0;d<y;d++){var p=f[d],w;e&&(e!=="/"?p=e+"/"+p:p=e+p),this._process([p].concat(n),i,s,u)}u()};_.prototype._emitMatch=function(e,t){if(!this.aborted&&!Su(this,t)){if(this.paused){this._emitQueue.push([e,t]);return}var r=Ie(t)?t:this._makeAbs(t);if(this.mark&&(t=this._mark(t)),this.absolute&&(t=r),!this.matches[e][t]){if(this.nodir){var n=this.cache[r];if(n==="DIR"||Array.isArray(n))return}this.matches[e][t]=!0;var i=this.statCache[r];i&&this.emit("stat",t,i),this.emit("match",t)}}};_.prototype._readdirInGlobStar=function(e,t){if(this.aborted)return;if(this.follow)return this._readdir(e,!1,t);var r="lstat\0"+e,n=this,i=vr(r,s);i&&n.fs.lstat(e,i);function s(a,u){if(a&&a.code==="ENOENT")return t();var o=u&&u.isSymbolicLink();n.symlinks[e]=o,!o&&u&&!u.isDirectory()?(n.cache[e]="FILE",t()):n._readdir(e,!1,t)}};_.prototype._readdir=function(e,t,r){if(!this.aborted&&(r=vr("readdir\0"+e+"\0"+t,r),!!r)){if(t&&!dr(this.symlinks,e))return this._readdirInGlobStar(e,r);if(dr(this.cache,e)){var n=this.cache[e];if(!n||n==="FILE")return r();if(Array.isArray(n))return r(null,n)}var i=this;i.fs.readdir(e,ku(this,e,r))}};function ku(e,t,r){return function(n,i){n?e._readdirError(t,n,r):e._readdirEntries(t,i,r)}}_.prototype._readdirEntries=function(e,t,r){if(!this.aborted){if(!this.mark&&!this.stat)for(var n=0;n<t.length;n++){var i=t[n];e==="/"?i=e+i:i=e+"/"+i,this.cache[i]=!0}return this.cache[e]=t,r(null,t)}};_.prototype._readdirError=function(e,t,r){if(!this.aborted){switch(t.code){case"ENOTSUP":case"ENOTDIR":var n=this._makeAbs(e);if(this.cache[n]="FILE",n===this.cwdAbs){var i=new Error(t.code+" invalid cwd "+this.cwd);i.path=this.cwd,i.code=t.code,this.emit("error",i),this.abort()}break;case"ENOENT":case"ELOOP":case"ENAMETOOLONG":case"UNKNOWN":this.cache[this._makeAbs(e)]=!1;break;default:this.cache[this._makeAbs(e)]=!1,this.strict&&(this.emit("error",t),this.abort()),this.silent||console.error("glob error",t);break}return r()}};_.prototype._processGlobStar=function(e,t,r,n,i,s,a){var u=this;this._readdir(r,s,function(o,c){u._processGlobStar2(e,t,r,n,i,s,c,a)})};_.prototype._processGlobStar2=function(e,t,r,n,i,s,a,u){if(!a)return u();var o=n.slice(1),c=e?[e]:[],l=c.concat(o);this._process(l,i,!1,u);var h=this.symlinks[r],f=a.length;if(h&&s)return u();for(var d=0;d<f;d++){var p=a[d];if(!(p.charAt(0)==="."&&!this.dot)){var g=c.concat(a[d],o);this._process(g,i,!0,u);var y=c.concat(a[d],n);this._process(y,i,!0,u)}}u()};_.prototype._processSimple=function(e,t,r){var n=this;this._stat(e,function(i,s){n._processSimple2(e,t,i,s,r)})};_.prototype._processSimple2=function(e,t,r,n,i){if(this.matches[t]||(this.matches[t]=Object.create(null)),!n)return i();if(e&&Ie(e)&&!this.nomount){var s=/[\/\\]$/.test(e);e.charAt(0)==="/"?e=fr.join(this.root,e):(e=fr.resolve(this.root,e),s&&(e+="/"))}process.platform==="win32"&&(e=e.replace(/\\/g,"/")),this._emitMatch(t,e),i()};_.prototype._stat=function(e,t){var r=this._makeAbs(e),n=e.slice(-1)==="/";if(e.length>this.maxLength)return t();if(!this.stat&&dr(this.cache,r)){var i=this.cache[r];if(Array.isArray(i)&&(i="DIR"),!n||i==="DIR")return t(null,i);if(n&&i==="FILE")return t()}var s,a=this.statCache[r];if(a!==void 0){if(a===!1)return t(null,a);var u=a.isDirectory()?"DIR":"FILE";return n&&u==="FILE"?t():t(null,u,a)}var o=this,c=vr("stat\0"+r,l);c&&o.fs.lstat(r,c);function l(h,f){if(f&&f.isSymbolicLink())return o.fs.stat(r,function(d,p){d?o._stat2(e,r,null,f,t):o._stat2(e,r,d,p,t)});o._stat2(e,r,h,f,t)}};_.prototype._stat2=function(e,t,r,n,i){if(r&&(r.code==="ENOENT"||r.code==="ENOTDIR"))return this.statCache[t]=!1,i();var s=e.slice(-1)==="/";if(this.statCache[t]=n,t.slice(-1)==="/"&&n&&!n.isDirectory())return i(null,!1,n);var a=!0;return n&&(a=n.isDirectory()?"DIR":"FILE"),this.cache[t]=this.cache[t]||a,s&&a==="FILE"?i():i(null,a,n)}});var Di=m((Kc,qi)=>{var b=require("assert"),Ti=require("path"),Si=require("fs"),Oe;try{Oe=or()}catch{}var Pu={nosort:!0,silent:!0},mr=0,Ce=process.platform==="win32",ki=e=>{if(["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||Si[r],r=r+"Sync",e[r]=e[r]||Si[r]}),e.maxBusyTries=e.maxBusyTries||3,e.emfileWait=e.emfileWait||1e3,e.glob===!1&&(e.disableGlob=!0),e.disableGlob!==!0&&Oe===void 0)throw Error("glob dependency not found, set `options.disableGlob = true` if intentional");e.disableGlob=e.disableGlob||!1,e.glob=e.glob||Pu},yr=(e,t,r)=>{typeof t=="function"&&(r=t,t={}),b(e,"rimraf: missing path"),b.equal(typeof e,"string","rimraf: path should be a string"),b.equal(typeof r,"function","rimraf: callback function required"),b(t,"rimraf: invalid options argument provided"),b.equal(typeof t,"object","rimraf: options should be object"),ki(t);let n=0,i=null,s=0,a=o=>{i=i||o,--s===0&&r(i)},u=(o,c)=>{if(o)return r(o);if(s=c.length,s===0)return r();c.forEach(l=>{let h=f=>{if(f){if((f.code==="EBUSY"||f.code==="ENOTEMPTY"||f.code==="EPERM")&&n<t.maxBusyTries)return n++,setTimeout(()=>gr(l,t,h),n*100);if(f.code==="EMFILE"&&mr<t.emfileWait)return setTimeout(()=>gr(l,t,h),mr++);f.code==="ENOENT"&&(f=null)}mr=0,a(f)};gr(l,t,h)})};if(t.disableGlob||!Oe.hasMagic(e))return u(null,[e]);t.lstat(e,(o,c)=>{if(!o)return u(null,[e]);Oe(e,t.glob,u)})},gr=(e,t,r)=>{b(e),b(t),b(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Ce&&Ai(e,t,n,r),i&&i.isDirectory())return dt(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return Ce?Ai(e,t,s,r):dt(e,t,s,r);if(s.code==="EISDIR")return dt(e,t,s,r)}return r(s)})})},Ai=(e,t,r,n)=>{b(e),b(t),b(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,a)=>{s?n(s.code==="ENOENT"?null:r):a.isDirectory()?dt(e,t,r,n):t.unlink(e,n)})})},Ri=(e,t,r)=>{b(e),b(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}let n;try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?pt(e,t,r):t.unlinkSync(e)},dt=(e,t,r,n)=>{b(e),b(t),b(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?qu(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})},qu=(e,t,r)=>{b(e),b(t),b(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length;if(s===0)return t.rmdir(e,r);let a;i.forEach(u=>{yr(Ti.join(e,u),t,o=>{if(!a){if(o)return r(a=o);--s===0&&t.rmdir(e,r)}})})})},Pi=(e,t)=>{t=t||{},ki(t),b(e,"rimraf: missing path"),b.equal(typeof e,"string","rimraf: path should be a string"),b(t,"rimraf: missing options"),b.equal(typeof t,"object","rimraf: options should be object");let r;if(t.disableGlob||!Oe.hasMagic(e))r=[e];else try{t.lstatSync(e),r=[e]}catch{r=Oe.sync(e,t.glob)}if(!!r.length)for(let n=0;n<r.length;n++){let i=r[n],s;try{s=t.lstatSync(i)}catch(a){if(a.code==="ENOENT")return;a.code==="EPERM"&&Ce&&Ri(i,t,a)}try{s&&s.isDirectory()?pt(i,t,null):t.unlinkSync(i)}catch(a){if(a.code==="ENOENT")return;if(a.code==="EPERM")return Ce?Ri(i,t,a):pt(i,t,a);if(a.code!=="EISDIR")throw a;pt(i,t,a)}}},pt=(e,t,r)=>{b(e),b(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="ENOTDIR")throw r;(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")&&Du(e,t)}},Du=(e,t)=>{b(e),b(t),t.readdirSync(e).forEach(i=>Pi(Ti.join(e,i),t));let r=Ce?100:1,n=0;do{let i=!0;try{let s=t.rmdirSync(e,t);return i=!1,s}finally{if(++n<r&&i)continue}}while(!0)};qi.exports=yr;yr.sync=Pi});var Yi=m((Wc,H)=>{var k=require("fs"),Or=require("os"),C=require("path"),xi=require("crypto"),K={fs:k.constants,os:Or.constants},Ii=Di(),Ni="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",Ci=/XXXXXX/,xu=3,ji=(K.O_CREAT||K.fs.O_CREAT)|(K.O_EXCL||K.fs.O_EXCL)|(K.O_RDWR||K.fs.O_RDWR),Nu=Or.platform()==="win32",Mu=K.EBADF||K.os.errno.EBADF,Iu=K.ENOENT||K.os.errno.ENOENT,Ui=448,Li=384,Cu="exit",Se=[],Bi=k.rmdirSync.bind(k),$i=Ii.sync,Gi=!1;function Sr(e,t){let r=Ae(e,t),n=r[0],i=r[1];try{Wi(n)}catch(a){return i(a)}let s=n.tries;(function a(){try{let u=Ki(n);k.stat(u,function(o){if(!o)return s-- >0?a():i(new Error("Could not get a unique tmp filename, max tries reached "+u));i(null,u)})}catch(u){i(u)}})()}function Ar(e){let t=Ae(e),r=t[0];Wi(r);let n=r.tries;do{let i=Ki(r);try{k.statSync(i)}catch{return i}}while(n-- >0);throw new Error("Could not get a unique tmp filename, max tries reached")}function ju(e,t){let r=Ae(e,t),n=r[0],i=r[1];Sr(n,function(a,u){if(a)return i(a);k.open(u,ji,n.mode||Li,function(c,l){if(c)return i(c);if(n.discardDescriptor)return k.close(l,function(f){return i(f,u,void 0,wr(u,-1,n,!1))});{let h=n.discardDescriptor||n.detachDescriptor;i(null,u,l,wr(u,h?-1:l,n,!1))}})})}function Uu(e){let t=Ae(e),r=t[0],n=r.discardDescriptor||r.detachDescriptor,i=Ar(r);var s=k.openSync(i,ji,r.mode||Li);return r.discardDescriptor&&(k.closeSync(s),s=void 0),{name:i,fd:s,removeCallback:wr(i,n?-1:s,r,!0)}}function Lu(e,t){let r=Ae(e,t),n=r[0],i=r[1];Sr(n,function(a,u){if(a)return i(a);k.mkdir(u,n.mode||Ui,function(c){if(c)return i(c);i(null,u,Fi(u,n,!1))})})}function Bu(e){let t=Ae(e),r=t[0],n=Ar(r);return k.mkdirSync(n,r.mode||Ui),{name:n,removeCallback:Fi(n,r,!0)}}function $u(e,t){let r=function(n){if(n&&!br(n))return t(n);t()};0<=e[0]?k.close(e[0],function(){k.unlink(e[1],r)}):k.unlink(e[1],r)}function Gu(e){let t=null;try{0<=e[0]&&k.closeSync(e[0])}catch(r){if(!Vu(r)&&!br(r))throw r}finally{try{k.unlinkSync(e[1])}catch(r){br(r)||(t=r)}}if(t!==null)throw t}function wr(e,t,r,n){let i=vt(Gu,[t,e],n),s=vt($u,[t,e],n,i);return r.keep||Se.unshift(i),n?i:s}function Fi(e,t,r){let n=t.unsafeCleanup?Ii:k.rmdir.bind(k),i=t.unsafeCleanup?$i:Bi,s=vt(i,e,r),a=vt(n,e,r,s);return t.keep||Se.unshift(s),r?s:a}function vt(e,t,r,n){let i=!1;return function s(a){if(!i){let u=n||s,o=Se.indexOf(u);return o>=0&&Se.splice(o,1),i=!0,r||e===Bi||e===$i?e(t):e(t,a||function(){})}}}function Fu(){if(!!Gi)for(;Se.length;)try{Se[0]()}catch{}}function Mi(e){let t=[],r=null;try{r=xi.randomBytes(e)}catch{r=xi.pseudoRandomBytes(e)}for(var n=0;n<e;n++)t.push(Ni[r[n]%Ni.length]);return t.join("")}function Vi(e){return e===null||I(e)||!e.trim()}function I(e){return typeof e>"u"}function Ae(e,t){if(typeof e=="function")return[{},e];if(I(e))return[{},t];let r={};for(let n of Object.getOwnPropertyNames(e))r[n]=e[n];return[r,t]}function Ki(e){let t=e.tmpdir;if(!I(e.name))return C.join(t,e.dir,e.name);if(!I(e.template))return C.join(t,e.dir,e.template).replace(Ci,Mi(6));let r=[e.prefix?e.prefix:"tmp","-",process.pid,"-",Mi(12),e.postfix?"-"+e.postfix:""].join("");return C.join(t,e.dir,r)}function Wi(e){e.tmpdir=Ji(e);let t=e.tmpdir;if(I(e.name)||_r(e.name,"name",t),I(e.dir)||_r(e.dir,"dir",t),!I(e.template)&&(_r(e.template,"template",t),!e.template.match(Ci)))throw new Error(`Invalid template, found "${e.template}".`);if(!I(e.tries)&&isNaN(e.tries)||e.tries<0)throw new Error(`Invalid tries, found "${e.tries}".`);e.tries=I(e.name)?e.tries||xu:1,e.keep=!!e.keep,e.detachDescriptor=!!e.detachDescriptor,e.discardDescriptor=!!e.discardDescriptor,e.unsafeCleanup=!!e.unsafeCleanup,e.dir=I(e.dir)?"":C.relative(t,Er(e.dir,t)),e.template=I(e.template)?void 0:C.relative(t,Er(e.template,t)),e.template=Vi(e.template)?void 0:C.relative(e.dir,e.template),e.name=I(e.name)?void 0:Rr(e.name),e.prefix=I(e.prefix)?"":e.prefix,e.postfix=I(e.postfix)?"":e.postfix}function Er(e,t){let r=Rr(e);return r.startsWith(t)?C.resolve(r):C.resolve(C.join(t,r))}function Rr(e){return Vi(e)?e:e.replace(/["']/g,"")}function _r(e,t,r){if(t==="name"){if(C.isAbsolute(e))throw new Error(`${t} option must not contain an absolute path, found "${e}".`);let n=C.basename(e);if(n===".."||n==="."||n!==e)throw new Error(`${t} option must not contain a path, found "${e}".`)}else{if(C.isAbsolute(e)&&!e.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${e}".`);let n=Er(e,r);if(!n.startsWith(r))throw new Error(`${t} option must be relative to "${r}", found "${n}".`)}}function Vu(e){return zi(e,-Mu,"EBADF")}function br(e){return zi(e,-Iu,"ENOENT")}function zi(e,t,r){return Nu?e.code===r:e.code===r&&e.errno===t}function Ku(){Gi=!0}function Ji(e){return C.resolve(Rr(e&&e.tmpdir||Or.tmpdir()))}process.addListener(Cu,Fu);Object.defineProperty(H.exports,"tmpdir",{enumerable:!0,configurable:!1,get:function(){return Ji()}});H.exports.dir=Lu;H.exports.dirSync=Bu;H.exports.file=ju;H.exports.fileSync=Uu;H.exports.tmpName=Sr;H.exports.tmpNameSync=Ar;H.exports.setGracefulCleanup=Ku});var P=Le(at()),Zi=require("child_process"),es=require("fs/promises"),he=require("process");var Pn=require("child_process"),qn="tempdir",Dn="systemd";function ee(e,t){let r=(0,Pn.spawn)("sudo",e,{stdio:["ignore","ignore",t?.ignoreStderr?"ignore":"inherit"]});return new Promise((n,i)=>{r.on("close",s=>{s===0?n():i(new Error(e[0]+" exited with "+s))})})}var Re=Le(at()),Te=require("fs/promises"),mt=Le(require("path")),Hi=Le(Yi());async function Qi(e){let{substituters:t,trustedPublicKeys:r,secretKeys:n,awsAccessKeyId:i,awsSecretAccessKey:s}=e,a="extra-substituters = "+t.join(" ")+`
`;r&&(a+="extra-trusted-public-keys = "+r.join(" ")+`
`);let u=null,o=null;try{let c=i&&s;if((n||c)&&(u=await new Promise((l,h)=>{(0,Hi.dir)({keep:!0,prefix:"setup-nix-cache-action"},(d,p)=>{d?h(d):l(p)})}),c&&(o=mt.join(u,"aws-credentials"),await(0,Te.writeFile)(o,`[default]
aws_access_key_id = ${i}
aws_secret_access_key = ${s}
`,{mode:384}),(0,Re.debug)("Wrote "+o)),n)){let l=[];for(let d=0;d<n.length;d++){let p=n[d],g=mt.join(u,"secret-key"+d);await(0,Te.writeFile)(g,p,{mode:384}),(0,Re.debug)("Wrote "+g),l.push(g)}a+="extra-secret-key-files = "+l.join(" ")+`
`;let h=`#!/bin/bash
set -euo pipefail
echo "Uploading paths: $OUT_PATHS" 1>&2
`;c&&(h+=`export AWS_SHARED_CREDENTIALS_FILE='${o}'
`),h+=`echo "$OUT_PATHS" | xargs /nix/var/nix/profiles/default/bin/nix \\
  --extra-experimental-features nix-command \\
  copy --to '${t[0]}' 1>&2
`;let f=mt.join(u,"post-build-hook");await(0,Te.writeFile)(f,h,{mode:493}),(0,Re.debug)("Wrote "+f),a+="post-build-hook = "+f+`
`}return{config:a,tempDir:u,credsPath:o}}catch(c){throw u&&await(0,Te.rm)(u,{recursive:!0,force:!0}).catch(l=>{(0,Re.warning)(l)}),c}}async function Xi(e,t,r){let n=r?.append?["tee","-a",e]:["tee",e],i=(0,Zi.spawn)("sudo",n,{stdio:["pipe","ignore","inherit"]}),s=new Promise((a,u)=>{i.on("close",o=>{o===0?a():u(new Error("tee exited with "+o))})});try{await new Promise((a,u)=>{i.stdin.write(t,o=>{o?u(o):a()})}),await new Promise(a=>{i.stdin.end(a)})}catch(a){throw i.kill(),a}finally{await s}}async function Wu(){if(he.platform==="linux"){if(!await ee(["systemctl","cat","nix-daemon.service"],{ignoreStderr:!0}).then(()=>!0,()=>!1))return;(0,P.info)("Restarting Nix daemon..."),await ee(["systemctl","daemon-reload"]),await ee(["systemctl","restart","nix-daemon.service"])}else if(he.platform==="darwin"){if(!await(0,es.stat)("/Library/LaunchDaemons/org.nixos.nix-daemon.plist").then(()=>!0,()=>!1))return;(0,P.info)("Restarting Nix daemon..."),await ee(["launchctl","kickstart","-k","system/org.nixos.nix-daemon"])}else throw new Error("cannot restart Nix daemon on unknown platform "+he.platform)}function Tr(e){return e=e.trim(),e?e.split(/\s+/):[]}(async()=>{try{(0,P.info)("Generating configuration...");let{config:e,tempDir:t,credsPath:r}=await Qi({substituters:Tr((0,P.getInput)("substituters",{required:!0})),trustedPublicKeys:Tr((0,P.getInput)("trusted_public_keys")),secretKeys:Tr((0,P.getInput)("secret_keys")),awsAccessKeyId:(0,P.getInput)("aws_access_key_id"),awsSecretAccessKey:(0,P.getInput)("aws_secret_access_key")});if(t&&(ee(["chown","-R","root:root",t]),(0,P.saveState)(qn,t)),(0,P.info)("Saving configuration..."),await ee(["mkdir","-p","/etc/nix"]),await Xi("/etc/nix/nix.conf",e,{append:!0}),r&&he.platform==="linux"){if(he.platform!=="linux")throw new Error("Private substituters not supported on "+he.platform);await ee(["mkdir","-p","/etc/systemd/system/nix-daemon.service.d"]);let n="/etc/systemd/system/nix-daemon.service.d/aws-credentials.conf";await Xi(n,`[Service]
Environment=AWS_SHARED_CREDENTIALS_FILE=`+r+`
`),(0,P.saveState)(Dn,n)}await Wu(),(0,P.info)("Done!")}catch(e){e instanceof Error?(0,P.setFailed)(e.message):(0,P.setFailed)(e+"")}})();
/*!
 * Tmp
 *
 * Copyright (c) 2011-2017 KARASZI Istvan <github@spam.raszi.hu>
 *
 * MIT Licensed
 */
/**
@license
Copyright 2022 Ross Light

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

    https://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.

SPDX-License-Identifier: Apache-2.0
**/
